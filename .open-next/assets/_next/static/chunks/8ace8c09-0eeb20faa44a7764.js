"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[564],{3826:(e,t,r)=>{r.d(t,{A:()=>tN,Fo:()=>tP,RV:()=>y,f7:()=>tl,o$:()=>tU,rL:()=>eF});var n,a,o=r(25959),i=r.n(o),l=r(45964),s=r.n(l),d=r(91959),c=r.n(d),u=r(12115),f=r(78048),h=r(86380),g=r(28460),p=r(31699),v=r(47650);function m(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t,r){var n;return n=function(e,t){if("object"!==w(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==w(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===w(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var b=(0,u.createContext)(null),y=()=>{var e=(0,u.useContext)(b);if(!e)throw Error("The `useSlateStatic` hook must be used inside the <Slate> component's context.");return e},k=parseInt(u.version.split(".")[0],10),O="undefined"!=typeof navigator&&"undefined"!=typeof window&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,x="undefined"!=typeof navigator&&/Mac OS X/.test(navigator.userAgent),C="undefined"!=typeof navigator&&/Android/.test(navigator.userAgent),D="undefined"!=typeof navigator&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),S="undefined"!=typeof navigator&&/AppleWebKit(?!.*Chrome)/i.test(navigator.userAgent),P="undefined"!=typeof navigator&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])(?:\.)/i.test(navigator.userAgent),B="undefined"!=typeof navigator&&/Chrome/i.test(navigator.userAgent),F="undefined"!=typeof navigator&&/Chrome?\/(?:[0-7][0-5]|[0-6][0-9])(?:\.)/i.test(navigator.userAgent),K=C&&"undefined"!=typeof navigator&&/Chrome?\/(?:[0-5]?\d)(?:\.)/i.test(navigator.userAgent),M="undefined"!=typeof navigator&&/^(?!.*Seamonkey)(?=.*Firefox\/(?:[0-7][0-9]|[0-8][0-6])(?:\.)).*/i.test(navigator.userAgent),T="undefined"!=typeof navigator&&/.*UCBrowser/.test(navigator.userAgent),R="undefined"!=typeof navigator&&/.*Wechat/.test(navigator.userAgent)&&!/.*MacWechat/.test(navigator.userAgent),A="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;"undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&/Version\/(\d+)/.test(navigator.userAgent)&&null!=(n=navigator.userAgent.match(/Version\/(\d+)/))&&n[1]&&parseInt(null==(a=navigator.userAgent.match(/Version\/(\d+)/))?void 0:a[1],10);var j=(!F||!K)&&!P&&"undefined"!=typeof globalThis&&globalThis.InputEvent&&"function"==typeof globalThis.InputEvent.prototype.getTargetRanges,L=new WeakMap,N=new WeakMap,W=new WeakMap,I=new WeakMap,Q=new WeakMap,q=new WeakMap,_=new WeakMap,U=new WeakMap,H=new WeakMap,z=new WeakMap,V=new WeakMap,Y=new WeakMap,$=new WeakMap,X=new WeakMap,G=new WeakMap,J=new WeakMap,Z=new WeakMap,ee=new WeakMap,et=new WeakMap,er=new WeakMap,en=new WeakMap,ea=new WeakMap,eo=Symbol("placeholder"),ei=Symbol("mark-placeholder"),el=globalThis.Node,es=globalThis.Text,ed=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView||null,ec=e=>ef(e)&&8===e.nodeType,eu=e=>ef(e)&&1===e.nodeType,ef=e=>{var t=ed(e);return!!t&&e instanceof t.Node},eh=e=>{var t=e&&e.anchorNode&&ed(e.anchorNode);return!!t&&e instanceof t.Selection},eg=e=>ef(e)&&3===e.nodeType,ep=e=>e.clipboardData&&""!==e.clipboardData.getData("text/plain")&&1===e.clipboardData.types.length,ev=e=>{var[t,r]=e;if(eu(t)&&t.childNodes.length){var n=r===t.childNodes.length,a=n?r-1:r;for([t,a]=ew(t,a,n?"backward":"forward"),n=a<r;eu(t)&&t.childNodes.length;){var o=n?t.childNodes.length-1:0;t=eE(t,o,n?"backward":"forward")}r=n&&null!=t.textContent?t.textContent.length:0}return[t,r]},em=e=>{for(var t=e&&e.parentNode;t;){if("[object ShadowRoot]"===t.toString())return!0;t=t.parentNode}return!1},ew=(e,t,r)=>{for(var{childNodes:n}=e,a=n[t],o=t,i=!1,l=!1;(ec(a)||eu(a)&&0===a.childNodes.length||eu(a)&&"false"===a.getAttribute("contenteditable"))&&(!i||!l);){if(o>=n.length){i=!0,o=t-1,r="backward";continue}if(o<0){l=!0,o=t+1,r="forward";continue}a=n[o],t=o,o+="forward"===r?1:-1}return[a,t]},eE=(e,t,r)=>{var[n]=ew(e,t,r);return n},eb=e=>{var t="";if(eg(e)&&e.nodeValue)return e.nodeValue;if(eu(e)){for(var r of Array.from(e.childNodes))t+=eb(r);var n=getComputedStyle(e).getPropertyValue("display");("block"===n||"list"===n||"BR"===e.tagName)&&(t+="\n")}return t},ey=/data-slate-fragment="(.+?)"/m,ek=e=>{var[,t]=e.getData("text/html").match(ey)||[];return t},eO=e=>null!=e.getSelection?e.getSelection():document.getSelection(),ex=(e,t,r)=>{var{target:n}=t;if(eu(n)&&n.matches('[contentEditable="false"]'))return!1;var{document:a}=eF.getWindow(e);if(a.contains(n))return eF.hasDOMNode(e,n,{editable:!0});var o=r.find(e=>{var{addedNodes:t,removedNodes:r}=e;for(var a of t)if(a===n||a.contains(n))return!0;for(var o of r)if(o===n||o.contains(n))return!0});return!!o&&o!==t&&ex(e,o,r)},eC=()=>{for(var e,t,r,n=document.activeElement;null!=(e=n)&&e.shadowRoot&&null!=(t=n.shadowRoot)&&t.activeElement;)n=null==(r=n)||null==(r=r.shadowRoot)?void 0:r.activeElement;return n},eD=(e,t)=>!!(e.compareDocumentPosition(t)&el.DOCUMENT_POSITION_PRECEDING),eS=(e,t)=>!!(e.compareDocumentPosition(t)&el.DOCUMENT_POSITION_FOLLOWING),eP=0;class eB{constructor(){E(this,"id",void 0),this.id="".concat(eP++)}}var eF={androidPendingDiffs:e=>et.get(e),androidScheduleFlush:e=>{var t;null==(t=J.get(e))||t()},blur:e=>{var t=eF.toDOMNode(e,e),r=eF.findDocumentOrShadowRoot(e);Y.set(e,!1),r.activeElement===t&&t.blur()},deselect:e=>{var{selection:t}=e,r=eO(eF.findDocumentOrShadowRoot(e));r&&r.rangeCount>0&&r.removeAllRanges(),t&&h.gB.deselect(e)},findDocumentOrShadowRoot:e=>{var t=eF.toDOMNode(e,e),r=t.getRootNode();return r instanceof Document||r instanceof ShadowRoot?r:t.ownerDocument},findEventRange:(e,t)=>{"nativeEvent"in t&&(t=t.nativeEvent);var r,{clientX:n,clientY:a,target:o}=t;if(null==n||null==a)throw Error("Cannot resolve a Slate range from a DOM event: ".concat(t));var i=eF.toSlateNode(e,t.target),l=eF.findPath(e,i);if(h.Hg.isElement(i)&&h.KE.isVoid(e,i)){var s=o.getBoundingClientRect(),d=e.isInline(i)?n-s.left<s.left+s.width-n:a-s.top<s.top+s.height-a,c=h.KE.point(e,l,{edge:d?"start":"end"}),u=d?h.KE.before(e,c):h.KE.after(e,c);if(u)return h.KE.range(e,u)}var{document:f}=eF.getWindow(e);if(f.caretRangeFromPoint)r=f.caretRangeFromPoint(n,a);else{var g=f.caretPositionFromPoint(n,a);g&&((r=f.createRange()).setStart(g.offsetNode,g.offset),r.setEnd(g.offsetNode,g.offset))}if(!r)throw Error("Cannot resolve a Slate range from a DOM event: ".concat(t));return eF.toSlateRange(e,r,{exactMatch:!1,suppressThrow:!1})},findKey:(e,t)=>{var r=H.get(t);return r||(r=new eB,H.set(t,r)),r},findPath:(e,t)=>{for(var r=[],n=t;;){var a=W.get(n);if(null==a)if(h.KE.isEditor(n))return r;else break;var o=N.get(n);if(null==o)break;r.unshift(o),n=a}throw Error("Unable to find the path for Slate node: ".concat(h.h6.stringify(t)))},focus:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{retries:5};if(!Y.get(e)){if(t.retries<=0)throw Error("Could not set focus, editor seems stuck with pending operations");if(e.operations.length>0)return void setTimeout(()=>{eF.focus(e,{retries:t.retries-1})},10);var r=eF.toDOMNode(e,e),n=eF.findDocumentOrShadowRoot(e);if(n.activeElement!==r){if(e.selection&&n instanceof Document){var a=eO(n),o=eF.toDOMRange(e,e.selection);null==a||a.removeAllRanges(),null==a||a.addRange(o)}e.selection||h.gB.select(e,h.KE.start(e,[])),Y.set(e,!0),r.focus({preventScroll:!0})}}},getWindow:e=>{var t=I.get(e);if(!t)throw Error("Unable to find a host window element for this editor");return t},hasDOMNode:function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{editable:a=!1}=n,o=eF.toDOMNode(e,e);try{r=eu(t)?t:t.parentElement}catch(e){if(e instanceof Error&&!e.message.includes('Permission denied to access property "nodeType"'))throw e}return!!r&&r.closest("[data-slate-editor]")===o&&(!a||!!r.isContentEditable||"boolean"==typeof r.isContentEditable&&r.closest('[contenteditable="false"]')===o||!!r.getAttribute("data-slate-zero-width"))},hasEditableTarget:(e,t)=>ef(t)&&eF.hasDOMNode(e,t,{editable:!0}),hasRange:(e,t)=>{var{anchor:r,focus:n}=t;return h.KE.hasPath(e,r.path)&&h.KE.hasPath(e,n.path)},hasSelectableTarget:(e,t)=>eF.hasEditableTarget(e,t)||eF.isTargetInsideNonReadonlyVoid(e,t),hasTarget:(e,t)=>ef(t)&&eF.hasDOMNode(e,t),insertData:(e,t)=>{e.insertData(t)},insertFragmentData:(e,t)=>e.insertFragmentData(t),insertTextData:(e,t)=>e.insertTextData(t),isComposing:e=>!!$.get(e),isFocused:e=>!!Y.get(e),isReadOnly:e=>!!V.get(e),isTargetInsideNonReadonlyVoid:(e,t)=>{if(V.get(e))return!1;var r=eF.hasTarget(e,t)&&eF.toSlateNode(e,t);return h.Hg.isElement(r)&&h.KE.isVoid(e,r)},setFragmentData:(e,t,r)=>e.setFragmentData(t,r),toDOMNode:(e,t)=>{var r=z.get(e),n=h.KE.isEditor(t)?Q.get(e):null==r?void 0:r.get(eF.findKey(e,t));if(!n)throw Error("Cannot resolve a DOM node from Slate node: ".concat(h.h6.stringify(t)));return n},toDOMPoint:(e,t)=>{var[r]=h.KE.node(e,t.path),n=eF.toDOMNode(e,r);h.KE.void(e,{at:t})&&(t={path:t.path,offset:0});for(var a=Array.from(n.querySelectorAll("[data-slate-string], [data-slate-zero-width]")),o=0,i=0;i<a.length;i++){var l=a[i],s=l.childNodes[0];if(null!=s&&null!=s.textContent){var{length:d}=s.textContent,c=l.getAttribute("data-slate-length"),u=o+(null==c?d:parseInt(c,10)),f=a[i+1];if(t.offset===u&&null!=f&&f.hasAttribute("data-slate-mark-placeholder")){var g,p,v=f.childNodes[0];g=[v instanceof es?v:f,null!=(p=f.textContent)&&p.startsWith("\uFEFF")?1:0];break}if(t.offset<=u){g=[s,Math.min(d,Math.max(0,t.offset-o))];break}o=u}}if(!g)throw Error("Cannot resolve a DOM point from Slate point: ".concat(h.h6.stringify(t)));return g},toDOMRange:(e,t)=>{var{anchor:r,focus:n}=t,a=h.Q6.isBackward(t),o=eF.toDOMPoint(e,r),i=h.Q6.isCollapsed(t)?o:eF.toDOMPoint(e,n),l=eF.getWindow(e).document.createRange(),[s,d]=a?i:o,[c,u]=a?o:i,f=!!(eu(s)?s:s.parentElement).getAttribute("data-slate-zero-width"),g=!!(eu(c)?c:c.parentElement).getAttribute("data-slate-zero-width");return l.setStart(s,f?1:d),l.setEnd(c,g?1:u),l},toSlateNode:(e,t)=>{var r=eu(t)?t:t.parentElement;r&&!r.hasAttribute("data-slate-node")&&(r=r.closest("[data-slate-node]"));var n=r?_.get(r):null;if(!n)throw Error("Cannot resolve a Slate node from DOM node: ".concat(r));return n},toSlatePoint:(e,t,r)=>{var{exactMatch:n,suppressThrow:a,searchDirection:o="backward"}=r,[i,l]=n?t:ev(t),s=i.parentNode,d=null,c=0;if(s){var u=eF.toDOMNode(e,e),f=s.closest('[data-slate-void="true"]'),g=f&&u.contains(f)?f:null,p=s.closest('[contenteditable="false"]'),v=p&&u.contains(p)?p:null,m=s.closest("[data-slate-leaf]"),w=null;if(m){if(d=m.closest('[data-slate-node="text"]')){var E=eF.getWindow(e).document.createRange();E.setStart(d,0),E.setEnd(i,l);var b=E.cloneContents();[...Array.prototype.slice.call(b.querySelectorAll("[data-slate-zero-width]")),...Array.prototype.slice.call(b.querySelectorAll("[contenteditable=false]"))].forEach(e=>{if(C&&!n&&e.hasAttribute("data-slate-zero-width")&&e.textContent.length>0&&"\uFEFF"!==e.textContext){e.textContent.startsWith("\uFEFF")&&(e.textContent=e.textContent.slice(1));return}e.parentNode.removeChild(e)}),c=b.textContent.length,w=d}}else if(g){for(var y=g.querySelectorAll("[data-slate-leaf]"),k=0;k<y.length;k++){var O=y[k];if(eF.hasDOMNode(e,O)){m=O;break}}m?(d=m.closest('[data-slate-node="text"]'),c=(w=m).textContent.length,w.querySelectorAll("[data-slate-zero-width]").forEach(e=>{c-=e.textContent.length})):c=1}else if(v){var x,S,P,B,F=e=>e?e.querySelectorAll("[data-slate-leaf]:not(:scope [data-slate-editor] [data-slate-leaf])"):[],K=v.closest('[data-slate-node="element"]');(m="forward"===o?null!=(P=[...F(K),...F(null==K?void 0:K.nextElementSibling)].find(e=>eS(v,e)))?P:null:null!=(B=[...F(null==K?void 0:K.previousElementSibling),...F(K)].findLast(e=>eD(v,e)))?B:null)&&(d=m.closest('[data-slate-node="text"]'),w=m,"forward"===o?c=0:(c=w.textContent.length,w.querySelectorAll("[data-slate-zero-width]").forEach(e=>{c-=e.textContent.length})))}w&&c===w.textContent.length&&C&&"z"===w.getAttribute("data-slate-zero-width")&&null!=(x=w.textContent)&&x.startsWith("\uFEFF")&&(s.hasAttribute("data-slate-zero-width")||D&&null!=(S=w.textContent)&&S.endsWith("\n\n"))&&c--}if(C&&!d&&!n){var M=s.hasAttribute("data-slate-node")?s:s.closest("[data-slate-node]");if(M&&eF.hasDOMNode(e,M,{editable:!0})){var T=eF.toSlateNode(e,M),{path:R,offset:A}=h.KE.start(e,eF.findPath(e,T));return M.querySelector("[data-slate-leaf]")||(A=l),{path:R,offset:A}}}if(!d){if(a)return null;throw Error("Cannot resolve a Slate point from DOM point: ".concat(t))}var j=eF.toSlateNode(e,d);return{path:eF.findPath(e,j),offset:c}},toSlateRange:(e,t,r)=>{var n,a,o,i,l,s,{exactMatch:d,suppressThrow:c}=r;if(eh(t)?t.anchorNode:t.startContainer)if(eh(t)){if(D&&t.rangeCount>1){i=t.focusNode;var u=t.getRangeAt(0),f=t.getRangeAt(t.rangeCount-1);if(i instanceof HTMLTableRowElement&&u.startContainer instanceof HTMLTableRowElement&&f.startContainer instanceof HTMLTableRowElement){function g(e){return e.childElementCount>0?g(e.children[0]):e}var p=u.startContainer,v=f.startContainer,m=g(p.children[u.startOffset]),w=g(v.children[f.startOffset]);l=0,a=w.childNodes.length>0?w.childNodes[0]:w,i=m.childNodes.length>0?m.childNodes[0]:m,o=w instanceof HTMLElement?w.innerHTML.length:0}else u.startContainer===i?(a=f.endContainer,o=f.endOffset,l=u.startOffset):(a=u.startContainer,o=u.endOffset,l=f.startOffset)}else a=t.anchorNode,o=t.anchorOffset,i=t.focusNode,l=t.focusOffset;s=B&&em(a)||D?t.anchorNode===t.focusNode&&t.anchorOffset===t.focusOffset:t.isCollapsed}else a=t.startContainer,o=t.startOffset,i=t.endContainer,l=t.endOffset,s=t.collapsed;if(null==a||null==i||null==o||null==l)throw Error("Cannot resolve a Slate range from DOM range: ".concat(t));D&&null!=(n=i.textContent)&&n.endsWith("\n\n")&&l===i.textContent.length&&l--;var E=eF.toSlatePoint(e,[a,o],{exactMatch:d,suppressThrow:c});if(!E)return null;var b=eD(a,i)||a===i&&l<o,y=s?E:eF.toSlatePoint(e,[i,l],{exactMatch:d,suppressThrow:c,searchDirection:b?"forward":"backward"});if(!y)return null;var k={anchor:E,focus:y};return h.Q6.isExpanded(k)&&h.Q6.isForward(k)&&eu(i)&&h.KE.void(e,{at:k.focus,mode:"highest"})&&(k=h.KE.unhangRange(e,k,{voids:!0})),k}};function eK(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return r.reduce((e,t)=>e.slice(0,t.start)+t.text+e.slice(t.end),e)}function eM(e,t){var{start:r,end:n,text:a}=t,o=e.slice(r,n),i=function(e,t){for(var r=Math.min(e.length,t.length),n=0;n<r;n++)if(e.charAt(n)!==t.charAt(n))return n;return r}(o,a),l=Math.min(o.length-i,a.length-i),s=function(e,t,r){for(var n=Math.min(e.length,t.length,r),a=0;a<n;a++)if(e.charAt(e.length-a-1)!==t.charAt(t.length-a-1))return a;return n}(o,a,l),d={start:r+i,end:n-s,text:a.slice(i,a.length-s)};return d.start===d.end&&0===d.text.length?null:d}function eT(e,t){var{path:r,offset:n}=t;if(!h.KE.hasPath(e,r))return null;var a=h.bP.get(e,r);if(!h.EY.isText(a))return null;var o=h.KE.above(e,{match:t=>h.Hg.isElement(t)&&h.KE.isBlock(e,t),at:r});if(!o)return null;for(;n>a.text.length;){var i=h.KE.next(e,{at:r,match:h.EY.isText});if(!i||!h.wA.isDescendant(i[1],o[1]))return null;n-=a.text.length,a=i[0],r=i[1]}return{path:r,offset:n}}function eR(e,t){var r=eT(e,t.anchor);if(!r)return null;if(h.Q6.isCollapsed(t))return{anchor:r,focus:r};var n=eT(e,t.focus);return n?{anchor:r,focus:n}:null}function eA(e,t,r){var n=et.get(e),a=null==n?void 0:n.find(e=>{var{path:r}=e;return h.wA.equals(r,t.path)});if(!a||t.offset<=a.diff.start)return h.bR.transform(t,r,{affinity:"backward"});var{diff:o}=a;if(t.offset<=o.start+o.text.length){var i={path:t.path,offset:o.start},l=h.bR.transform(i,r,{affinity:"backward"});return l?{path:l.path,offset:l.offset+t.offset-o.start}:null}var s={path:t.path,offset:t.offset-o.text.length+o.end-o.start},d=h.bR.transform(s,r,{affinity:"backward"});return d?"split_node"===r.type&&h.wA.equals(r.path,t.path)&&s.offset<r.position&&o.start<r.position?d:{path:d.path,offset:d.offset+o.text.length-o.end+o.start}:null}function ej(e,t,r){var n=eA(e,t.anchor,r);if(!n)return null;if(h.Q6.isCollapsed(t))return{anchor:n,focus:n};var a=eA(e,t.focus,r);return a?{anchor:n,focus:a}:null}function eL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eL(Object(r),!0).forEach(function(t){E(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eL(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var eW=function(){},eI=e=>(null==e?void 0:e.constructor.name)==="DataTransfer",eQ=A?u.useLayoutEffect:u.useEffect,eq=["node"];function e_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var eU={subtree:!0,childList:!0,characterData:!0},eH=C?e=>{var{node:t}=e,r=m(e,eq);if(!C)return null;var n=y(),a=function(){var e=(0,u.useRef)(!1);return(0,u.useEffect)(()=>(e.current=!0,()=>{e.current=!1}),[]),e.current}(),[o]=(0,u.useState)(()=>(function(e){var{editor:t,scheduleOnDOMSelectionChange:r,onDOMSelectionChange:n}=e,a=!1,o=null,i=null,l=null,s=0,d=!1,c=()=>{var e=en.get(t);if(en.delete(t),e){var{selection:r}=t,n=eR(t,e);!n||r&&h.Q6.equals(n,r)||h.gB.select(t,n)}},u=()=>{var e=er.get(t);if(er.delete(t),e){if(e.at){var r=h.bR.isPoint(e.at)?eT(t,e.at):eR(t,e.at);if(!r)return;var n=h.KE.range(t,r);t.selection&&h.Q6.equals(t.selection,n)||h.gB.select(t,r)}e.run()}},f=()=>{if(i&&(clearTimeout(i),i=null),l&&(clearTimeout(l),l=null),!w()&&!m())return void c();a||(a=!0,setTimeout(()=>a=!1)),m()&&(a="action");var e=t.selection&&h.KE.rangeRef(t,t.selection,{affinity:"forward"});ee.set(t,t.marks),eW("flush",er.get(t),et.get(t));for(var o=w();s=null==(f=et.get(t))?void 0:f[0];){var s,f,g,p=Z.get(t);void 0!==p&&(Z.delete(t),t.marks=p),p&&!1===d&&(d=null);var v=function(e){var{path:t,diff:r}=e;return{anchor:{path:t,offset:r.start},focus:{path:t,offset:r.end}}}(s);t.selection&&h.Q6.equals(t.selection,v)||h.gB.select(t,v),s.diff.text?h.KE.insertText(t,s.diff.text):h.KE.deleteFragment(t),et.set(t,null==(g=et.get(t))?void 0:g.filter(e=>{var{id:t}=e;return t!==s.id})),!function(e,t){var{path:r,diff:n}=t;if(!h.KE.hasPath(e,r))return!1;var a=h.bP.get(e,r);if(!h.EY.isText(a))return!1;if(n.start!==a.text.length||0===n.text.length)return a.text.slice(n.start,n.start+n.text.length)===n.text;var o=h.wA.next(r);if(!h.KE.hasPath(e,o))return!1;var i=h.bP.get(e,o);return h.EY.isText(i)&&i.text.startsWith(n.text)}(t,s)&&(o=!1,er.delete(t),ee.delete(t),a="action",en.delete(t),r.cancel(),n.cancel(),null==e||e.unref())}var E=null==e?void 0:e.unref();if(!E||en.get(t)||t.selection&&h.Q6.equals(E,t.selection)||h.gB.select(t,E),m())return void u();o&&r(),r.flush(),n.flush(),c();var b=ee.get(t);ee.delete(t),void 0!==b&&(t.marks=b,t.onChange())},g=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=q.get(t);if(r){if(w()||e){r.style.display="none";return}r.style.removeProperty("display")}},p=(e,r)=>{var n,a,o,i,l,d,c,u,f=null!=(u=et.get(t))?u:[];et.set(t,f);var p=h.bP.leaf(t,e),v=f.findIndex(t=>h.wA.equals(t.path,e));if(v<0){eM(p.text,r)&&f.push({path:e,diff:r,id:s++}),g();return}var m=(n=p.text,a=f[v].diff,o=Math.min(a.start,r.start),i=Math.max(0,Math.min(a.start+a.text.length,r.end)-r.start),l=eK(n,a,r),d=Math.max(r.start+r.text.length,a.start+a.text.length+(a.start+a.text.length>r.start?r.text.length:0)-i),c=l.slice(o,d),eM(n,{start:o,end:Math.max(a.end,r.end-a.text.length+(a.end-a.start)),text:c}));if(!m){f.splice(v,1),g();return}f[v]=eN(eN({},f[v]),{},{diff:m})},v=function(e){var{at:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};d=!1,en.delete(t),r.cancel(),n.cancel(),m()&&f(),er.set(t,{at:a,run:e}),l=setTimeout(f)},m=()=>!!er.get(t),w=()=>{var e;return!!(null!=(e=et.get(t))&&e.length)},E=e=>{en.set(t,e),i&&(clearTimeout(i),i=null);var{selection:r}=t;if(e){var n=!r||!h.wA.equals(r.anchor.path,e.anchor.path),a=!r||!h.wA.equals(r.anchor.path.slice(0,-1),e.anchor.path.slice(0,-1));(n&&d||a)&&(d=!1),(n||w())&&(i=setTimeout(f,200))}},b=()=>{m()||(l=setTimeout(f))};return{flush:f,scheduleFlush:b,hasPendingDiffs:w,hasPendingAction:m,hasPendingChanges:()=>m()||w(),isFlushing:()=>a,handleUserSelect:E,handleCompositionEnd:e=>{o&&clearTimeout(o),o=setTimeout(()=>{$.set(t,!1),f()},25)},handleCompositionStart:e=>{$.set(t,!0),o&&(clearTimeout(o),o=null)},handleDOMBeforeInput:e=>{if(i&&(clearTimeout(i),i=null),!L.get(t)){var{inputType:r}=e,n=null,a=e.dataTransfer||e.data||void 0;!1!==d&&"insertText"!==r&&"insertCompositionText"!==r&&(d=!1);var[o]=e.getTargetRanges();o&&(n=eF.toSlateRange(t,o,{exactMatch:!1,suppressThrow:!0}));var l=eF.getWindow(t).getSelection();if(!n&&l&&(o=l,n=eF.toSlateRange(t,l,{exactMatch:!1,suppressThrow:!0})),n=null!=(F=n)?F:t.selection){var s=!0;if(r.startsWith("delete")){if(h.Q6.isExpanded(n)){var[c,u]=h.Q6.edges(n);if(h.bP.leaf(t,c.path).text.length===c.offset&&0===u.offset){var f=h.KE.next(t,{at:c.path,match:h.EY.isText});f&&h.wA.equals(f[1],u.path)&&(n={anchor:u,focus:u})}}var g=r.endsWith("Backward")?"backward":"forward",[m,w]=h.Q6.edges(n),[y,k]=h.KE.leaf(t,m.path),O={text:"",start:m.offset,end:w.offset},x=et.get(t),C=null==x?void 0:x.find(e=>h.wA.equals(e.path,k)),D=C?[C.diff,O]:[O];if(0===eK(y.text,...D).length&&(s=!1),h.Q6.isExpanded(n)){if(s&&h.wA.equals(n.anchor.path,n.focus.path)){var S={path:n.anchor.path,offset:m.offset};return E(h.KE.range(t,S,S)),p(n.anchor.path,{text:"",end:w.offset,start:m.offset})}return v(()=>h.KE.deleteFragment(t,{direction:g}),{at:n})}}switch(r){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":return v(()=>h.KE.deleteFragment(t),{at:n});case"deleteContent":case"deleteContentForward":var{anchor:P}=n;if(s&&h.Q6.isCollapsed(n)){var B=h.bP.leaf(t,P.path);if(P.offset<B.text.length)return p(P.path,{text:"",start:P.offset,end:P.offset+1})}return v(()=>h.KE.deleteForward(t),{at:n});case"deleteContentBackward":var F,K,{anchor:M}=n,T=eh(o)?o.isCollapsed:!!(null!=(K=o)&&K.collapsed);if(s&&T&&h.Q6.isCollapsed(n)&&M.offset>0)return p(M.path,{text:"",start:M.offset-1,end:M.offset});return v(()=>h.KE.deleteBackward(t),{at:n});case"deleteEntireSoftLine":return v(()=>{h.KE.deleteBackward(t,{unit:"line"}),h.KE.deleteForward(t,{unit:"line"})},{at:n});case"deleteHardLineBackward":return v(()=>h.KE.deleteBackward(t,{unit:"block"}),{at:n});case"deleteSoftLineBackward":return v(()=>h.KE.deleteBackward(t,{unit:"line"}),{at:n});case"deleteHardLineForward":return v(()=>h.KE.deleteForward(t,{unit:"block"}),{at:n});case"deleteSoftLineForward":return v(()=>h.KE.deleteForward(t,{unit:"line"}),{at:n});case"deleteWordBackward":return v(()=>h.KE.deleteBackward(t,{unit:"word"}),{at:n});case"deleteWordForward":return v(()=>h.KE.deleteForward(t,{unit:"word"}),{at:n});case"insertLineBreak":return v(()=>h.KE.insertSoftBreak(t),{at:n});case"insertParagraph":return v(()=>h.KE.insertBreak(t),{at:n});case"insertCompositionText":case"deleteCompositionText":case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":if(eI(a))return v(()=>eF.insertData(t,a),{at:n});var R=null!=a?a:"";if(Z.get(t)&&(R=R.replace("\uFEFF","")),"insertText"===r&&/.*\n.*\n$/.test(R)&&(R=R.slice(0,-1)),R.includes("\n"))return v(()=>{var e=R.split("\n");e.forEach((r,n)=>{r&&h.KE.insertText(t,r),n!==e.length-1&&h.KE.insertSoftBreak(t)})},{at:n});if(h.wA.equals(n.anchor.path,n.focus.path)){var[A,j]=h.Q6.edges(n),N={start:A.offset,end:j.offset,text:R};if(R&&d&&"insertCompositionText"===r){var W=d.start+d.text.search(/\S|$/);N.start+N.text.search(/\S|$/)===W+1&&N.end===d.start+d.text.length?(N.start-=1,d=null,b()):d=!1}else d="insertText"===r&&(null===d?N:!!(d&&h.Q6.isCollapsed(n))&&d.end+d.text.length===A.offset&&eN(eN({},d),{},{text:d.text+R}));if(s)return void p(A.path,N)}return v(()=>h.KE.insertText(t,R),{at:n})}}}},handleKeyDown:e=>{w()||(g(!0),setTimeout(g))},handleDomMutations:e=>{if(!(w()||m())&&e.some(r=>ex(t,r,e))){var r;null==(r=ea.get(t))||r()}},handleInput:()=>{(m()||!w())&&f()}}})(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?e_(Object(r),!0).forEach(function(t){E(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e_(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({editor:n},r)));return!function(e,t,r){var[n]=(0,u.useState)(()=>new MutationObserver(t));eQ(()=>{n.takeRecords()}),(0,u.useEffect)(()=>{if(!e.current)throw Error("Failed to attach MutationObserver, `node` is undefined");return n.observe(e.current,r),()=>n.disconnect()},[n,e,r])}(t,o.handleDomMutations,eU),J.set(n,o.scheduleFlush),a&&o.flush(),o}:()=>null,ez=["anchor","focus"],eV=["anchor","focus"],eY=(e,t)=>Object.keys(e).length===Object.keys(t).length&&Object.keys(e).every(r=>t.hasOwnProperty(r)&&e[r]===t[r]),e$=(e,t)=>{var r=m(e,ez),n=m(t,eV);return e[eo]===t[eo]&&eY(r,n)},eX=(e,t)=>{if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++){var n=e[r],a=t[r];if(!h.Q6.equals(n,a)||!e$(n,a))return!1}return!0},eG=(e,t)=>{if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++){var n=e[r],a=t[r];if(n.anchor.offset!==a.anchor.offset||n.focus.offset!==a.focus.offset||!e$(n,a))return!1}return!0};function eJ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var eZ=e=>{var{isLast:t,leaf:r,parent:n,text:a}=e,o=y(),i=eF.findPath(o,a),l=h.wA.parent(i),s=!!r[ei];return o.isVoid(n)?u.createElement(e6,{length:h.bP.string(n).length}):""!==r.text||n.children[n.children.length-1]!==a||o.isInline(n)||""!==h.KE.string(o,l)?""===r.text?u.createElement(e6,{isMarkPlaceholder:s}):t&&"\n"===r.text.slice(-1)?u.createElement(e0,{isTrailing:!0,text:r.text}):u.createElement(e0,{text:r.text}):u.createElement(e6,{isLineBreak:!0,isMarkPlaceholder:s})},e0=e=>{var{text:t,isTrailing:r=!1}=e,n=(0,u.useRef)(null),a=()=>"".concat(null!=t?t:"").concat(r?"\n":""),[o]=(0,u.useState)(a);return eQ(()=>{var e=a();n.current&&n.current.textContent!==e&&(n.current.textContent=e)}),u.createElement(e1,{ref:n},o)},e1=(0,u.memo)((0,u.forwardRef)((e,t)=>u.createElement("span",{"data-slate-string":!0,ref:t},e.children))),e6=e=>{var{length:t=0,isLineBreak:r=!1,isMarkPlaceholder:n=!1}=e,a={"data-slate-zero-width":r?"n":"z","data-slate-length":t};return n&&(a["data-slate-mark-placeholder"]=!0),u.createElement("span",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eJ(Object(r),!0).forEach(function(t){E(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eJ(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},a),(C||O)&&r?null:"\uFEFF",r?u.createElement("br",null):null)};function e2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function e5(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?e2(Object(r),!0).forEach(function(t){E(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e2(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var e9=300*!!C;function e8(e){e.current&&(clearTimeout(e.current),e.current=null)}var e3=u.memo(e=>{var{leaf:t,isLast:r,text:n,parent:a,renderPlaceholder:o,renderLeaf:i=e=>u.createElement(e7,e5({},e))}=e,l=y(),s=(0,u.useRef)(null),d=(0,u.useRef)(null),[c,f]=(0,u.useState)(!1),h=(0,u.useRef)(null),p=(0,u.useCallback)(e=>{if(!function(e,t){e.current&&(e.current.disconnect(),t&&(e.current=null))}(s,null==e),null==e){var r;q.delete(l),null==(r=t.onPlaceholderResize)||r.call(t,null)}else q.set(l,e),s.current||(s.current=new(window.ResizeObserver||g.tb)(()=>{var r;null==(r=t.onPlaceholderResize)||r.call(t,e)})),s.current.observe(e),d.current=e},[d,t,l]),v=u.createElement(eZ,{isLast:r,leaf:t,parent:a,text:n}),m=!!t[eo];if((0,u.useEffect)(()=>(m?h.current||(h.current=setTimeout(()=>{f(!0),h.current=null},e9)):(e8(h),f(!1)),()=>e8(h)),[m,f]),m&&c){var w={children:t.placeholder,attributes:{"data-slate-placeholder":!0,style:{position:"absolute",top:0,pointerEvents:"none",width:"100%",maxWidth:"100%",display:"block",opacity:"0.333",userSelect:"none",textDecoration:"none",WebkitUserModify:S?"inherit":void 0},contentEditable:!1,ref:p}};v=u.createElement(u.Fragment,null,o(w),v)}return i({attributes:{"data-slate-leaf":!0},children:v,leaf:t,text:n})},(e,t)=>t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.renderPlaceholder===e.renderPlaceholder&&t.text===e.text&&h.EY.equals(t.leaf,e.leaf)&&t.leaf[eo]===e.leaf[eo]),e7=e=>{var{attributes:t,children:r}=e;return u.createElement("span",e5({},t),r)},e4=u.memo(e=>{for(var{decorations:t,isLast:r,parent:n,renderPlaceholder:a,renderLeaf:o,text:i}=e,l=y(),s=(0,u.useRef)(null),d=h.EY.decorations(i,t),c=eF.findKey(l,i),f=[],g=0;g<d.length;g++){var p=d[g];f.push(u.createElement(e3,{isLast:r&&g===d.length-1,key:"".concat(c.id,"-").concat(g),renderPlaceholder:a,leaf:p,text:i,parent:n,renderLeaf:o}))}var v=(0,u.useCallback)(e=>{var t=z.get(l);e?(null==t||t.set(c,e),U.set(i,e),_.set(e,i)):(null==t||t.delete(c),U.delete(i),s.current&&_.delete(s.current)),s.current=e},[s,l,c,i]);return u.createElement("span",{"data-slate-node":"text",ref:v},f)},(e,t)=>t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.renderPlaceholder===e.renderPlaceholder&&t.text===e.text&&eG(t.decorations,e.decorations));function te(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function tt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?te(Object(r),!0).forEach(function(t){E(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):te(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var tr=u.memo(e=>{var{decorations:t,element:r,renderElement:n=e=>u.createElement(tn,tt({},e)),renderPlaceholder:a,renderLeaf:o,selection:l}=e,s=y(),d=tc(),c=s.isInline(r),f=eF.findKey(s,r),g=(0,u.useCallback)(e=>{var t=z.get(s);e?(null==t||t.set(f,e),U.set(r,e),_.set(e,r)):(null==t||t.delete(f),U.delete(r))},[s,f,r]),p=ts({decorations:t,node:r,renderElement:n,renderPlaceholder:a,renderLeaf:o,selection:l}),v={"data-slate-node":"element",ref:g};if(c&&(v["data-slate-inline"]=!0),!c&&h.KE.hasInlines(s,r)){var m=h.bP.string(r),w=i()(m);"rtl"===w&&(v.dir=w)}if(h.KE.isVoid(s,r)){v["data-slate-void"]=!0,!d&&c&&(v.contentEditable=!1);var[[E]]=h.bP.texts(r);p=u.createElement(c?"span":"div",{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},u.createElement(e4,{renderPlaceholder:a,decorations:[],isLast:!1,parent:r,text:E})),N.set(E,0),W.set(E,r)}return n({attributes:v,children:p,element:r})},(e,t)=>e.element===t.element&&e.renderElement===t.renderElement&&e.renderLeaf===t.renderLeaf&&e.renderPlaceholder===t.renderPlaceholder&&eX(e.decorations,t.decorations)&&(e.selection===t.selection||!!e.selection&&!!t.selection&&h.Q6.equals(e.selection,t.selection))),tn=e=>{var{attributes:t,children:r,element:n}=e,a=y().isInline(n)?"span":"div";return u.createElement(a,tt(tt({},t),{},{style:{position:"relative"}}),r)},ta=(0,u.createContext)(()=>[]),to=()=>(0,u.useContext)(ta),ti=(0,u.createContext)(!1),tl=()=>(0,u.useContext)(ti),ts=e=>{var{decorations:t,node:r,renderElement:n,renderPlaceholder:a,renderLeaf:o,selection:i}=e,l=to(),s=y();L.set(s,!1);for(var d=eF.findPath(s,r),c=[],f=h.Hg.isElement(r)&&!s.isInline(r)&&h.KE.hasInlines(s,r),g=0;g<r.children.length;g++){var p=d.concat(g),v=r.children[g],m=eF.findKey(s,v),w=h.KE.range(s,p),E=i&&h.Q6.intersection(w,i),b=l([v,p]);for(var k of t){var O=h.Q6.intersection(k,w);O&&b.push(O)}h.Hg.isElement(v)?c.push(u.createElement(ti.Provider,{key:"provider-".concat(m.id),value:!!E},u.createElement(tr,{decorations:b,element:v,key:m.id,renderElement:n,renderPlaceholder:a,renderLeaf:o,selection:E}))):c.push(u.createElement(e4,{decorations:b,key:m.id,isLast:f&&g===r.children.length-1,parent:r,renderPlaceholder:a,renderLeaf:o,text:v})),N.set(v,g),W.set(v,r)}return c},td=(0,u.createContext)(!1),tc=()=>(0,u.useContext)(td),tu=(0,u.createContext)(null),tf=()=>{var e=(0,u.useContext)(tu);if(!e)throw Error("The `useSlate` hook must be used inside the <Slate> component's context.");var{editor:t}=e;return t},th={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",insertSoftBreak:"shift+enter",splitBlock:"enter",undo:"mod+z"},tg={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},tp={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},tv=e=>{var t=th[e],r=tg[e],n=tp[e],a=t&&(0,p.v_)(t),o=r&&(0,p.v_)(r),i=n&&(0,p.v_)(n);return e=>!!(a&&a(e)||x&&o&&o(e)||!x&&i&&i(e))},tm={isBold:tv("bold"),isCompose:tv("compose"),isMoveBackward:tv("moveBackward"),isMoveForward:tv("moveForward"),isDeleteBackward:tv("deleteBackward"),isDeleteForward:tv("deleteForward"),isDeleteLineBackward:tv("deleteLineBackward"),isDeleteLineForward:tv("deleteLineForward"),isDeleteWordBackward:tv("deleteWordBackward"),isDeleteWordForward:tv("deleteWordForward"),isExtendBackward:tv("extendBackward"),isExtendForward:tv("extendForward"),isExtendLineBackward:tv("extendLineBackward"),isExtendLineForward:tv("extendLineForward"),isItalic:tv("italic"),isMoveLineBackward:tv("moveLineBackward"),isMoveLineForward:tv("moveLineForward"),isMoveWordBackward:tv("moveWordBackward"),isMoveWordForward:tv("moveWordForward"),isRedo:tv("redo"),isSoftBreak:tv("insertSoftBreak"),isSplitBlock:tv("splitBlock"),isTransposeCharacter:tv("transposeCharacter"),isUndo:tv("undo")},tw=(e,t)=>{var r=[],n=()=>{r=[]};return{registerMutations:n=>{if(t.current){var a=n.filter(t=>ex(e,t,n));r.push(...a)}},restoreDOM:function(){r.length>0&&(r.reverse().forEach(e=>{"characterData"!==e.type&&(e.removedNodes.forEach(t=>{e.target.insertBefore(t,e.nextSibling)}),e.addedNodes.forEach(t=>{e.target.removeChild(t)}))}),n())},clear:n}},tE={subtree:!0,childList:!0,characterData:!0,characterDataOldValue:!0};class tb extends u.Component{constructor(){super(...arguments),E(this,"context",null),E(this,"manager",null),E(this,"mutationObserver",null)}observe(){var e,{node:t}=this.props;if(!t.current)throw Error("Failed to attach MutationObserver, `node` is undefined");null==(e=this.mutationObserver)||e.observe(t.current,tE)}componentDidMount(){var{receivedUserInput:e}=this.props,t=this.context;this.manager=tw(t,e),this.mutationObserver=new MutationObserver(this.manager.registerMutations),this.observe()}getSnapshotBeforeUpdate(){var e,t,r,n,a=null==(e=this.mutationObserver)?void 0:e.takeRecords();return null!=a&&a.length&&(null==(n=this.manager)||n.registerMutations(a)),null==(t=this.mutationObserver)||t.disconnect(),null==(r=this.manager)||r.restoreDOM(),null}componentDidUpdate(){var e;null==(e=this.manager)||e.clear(),this.observe()}componentWillUnmount(){var e;null==(e=this.mutationObserver)||e.disconnect()}render(){return this.props.children}}E(tb,"contextType",b);var ty=C?tb:e=>{var{children:t}=e;return u.createElement(u.Fragment,null,t)},tk=(0,u.createContext)(!1),tO=["autoFocus","decorate","onDOMBeforeInput","placeholder","readOnly","renderElement","renderLeaf","renderPlaceholder","scrollSelectionIntoView","style","as","disableDefaultStyles"],tx=["text"];function tC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function tD(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tC(Object(r),!0).forEach(function(t){E(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tC(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var tS=e=>u.createElement(u.Fragment,null,ts(e)),tP=(0,u.forwardRef)((e,t)=>{var r=(0,u.useCallback)(e=>u.createElement(tB,tD({},e)),[]),{autoFocus:n,decorate:a=tF,onDOMBeforeInput:o,placeholder:l,readOnly:d=!1,renderElement:f,renderLeaf:g,renderPlaceholder:p=r,scrollSelectionIntoView:v=tK,style:w={},as:E="div",disableDefaultStyles:b=!1}=e,k=m(e,tO),x=tf(),[P,F]=(0,u.useState)(!1),K=(0,u.useRef)(null),N=(0,u.useRef)([]),[W,q]=(0,u.useState)(),H=(0,u.useRef)(!1),{onUserInput:z,receivedUserInput:G}=function(){var e=y(),t=(0,u.useRef)(!1),r=(0,u.useRef)(0),n=(0,u.useCallback)(()=>{if(!t.current){t.current=!0;var n=eF.getWindow(e);n.cancelAnimationFrame(r.current),r.current=n.requestAnimationFrame(()=>{t.current=!1})}},[e]);return(0,u.useEffect)(()=>()=>cancelAnimationFrame(r.current),[]),{receivedUserInput:t,onUserInput:n}}(),[,J]=(0,u.useReducer)(e=>e+1,0);ea.set(x,J),V.set(x,d);var et=(0,u.useMemo)(()=>({isDraggingInternally:!1,isUpdatingSelection:!1,latestElement:null,hasMarkPlaceholder:!1}),[]);(0,u.useEffect)(()=>{K.current&&n&&K.current.focus()},[n]);var er=(0,u.useRef)(),en=(0,u.useMemo)(()=>c()(()=>{if(L.get(x))return void en();var e=eF.toDOMNode(x,x).getRootNode();if(!H.current&&S&&e instanceof ShadowRoot){H.current=!0,eC()?document.execCommand("indent"):h.gB.deselect(x),H.current=!1;return}var t=er.current;if((C||!eF.isComposing(x))&&(!et.isUpdatingSelection||null!=t&&t.isFlushing())&&!et.isDraggingInternally){var r=eF.findDocumentOrShadowRoot(x),{activeElement:n}=r,a=eF.toDOMNode(x,x),o=eO(r);if(n===a?(et.latestElement=n,Y.set(x,!0)):Y.delete(x),!o)return h.gB.deselect(x);var{anchorNode:i,focusNode:l}=o,s=eF.hasEditableTarget(x,i)||eF.isTargetInsideNonReadonlyVoid(x,i),c=eF.hasTarget(x,l);if(s&&c){var u=eF.toSlateRange(x,o,{exactMatch:!1,suppressThrow:!0});u&&(eF.isComposing(x)||null!=t&&t.hasPendingChanges()||null!=t&&t.isFlushing()?null==t||t.handleUserSelect(u):h.gB.select(x,u))}!d||s&&c||h.gB.deselect(x)}},100),[x,d,et]),el=(0,u.useMemo)(()=>s()(en,0),[en]);er.current=eH({node:K,onDOMSelectionChange:en,scheduleOnDOMSelectionChange:el}),eQ(()=>{K.current&&(r=ed(K.current))?(I.set(x,r),Q.set(x,K.current),U.set(x,K.current),_.set(K.current,x)):U.delete(x);var e,t,r,{selection:n}=x,a=eO(eF.findDocumentOrShadowRoot(x));if(!(!a||!eF.isFocused(x)||null!=(e=er.current)&&e.hasPendingAction())){var o=e=>{var t="None"!==a.type;if(n||t){var r=a.focusNode;if(D&&a.rangeCount>1){var o=a.getRangeAt(0),i=a.getRangeAt(a.rangeCount-1);d=o.startContainer===r?i.endContainer:o.startContainer}else d=a.anchorNode;var l=Q.get(x),s=!1;if(l.contains(d)&&l.contains(r)&&(s=!0),t&&s&&n&&!e){var d,c,u=eF.toSlateRange(x,a,{exactMatch:!0,suppressThrow:!0});if(u&&h.Q6.equals(u,n)&&(!et.hasMarkPlaceholder||null!=(c=d)&&null!=(c=c.parentElement)&&c.hasAttribute("data-slate-mark-placeholder")))return}if(n&&!eF.hasRange(x,n)){x.selection=eF.toSlateRange(x,a,{exactMatch:!1,suppressThrow:!0});return}et.isUpdatingSelection=!0;var f=n&&eF.toDOMRange(x,n);return f?(eF.isComposing(x)&&!C?a.collapseToEnd():h.Q6.isBackward(n)?a.setBaseAndExtent(f.endContainer,f.endOffset,f.startContainer,f.startOffset):a.setBaseAndExtent(f.startContainer,f.startOffset,f.endContainer,f.endOffset),v(x,f)):a.removeAllRanges(),f}};a.rangeCount<=1&&o();var i=(null==(t=er.current)?void 0:t.isFlushing())==="action";if(!C||!i)return void setTimeout(()=>{et.isUpdatingSelection=!1});var l=null,s=requestAnimationFrame(()=>{if(i){var e=e=>{try{eF.toDOMNode(x,x).focus(),o(e)}catch(e){}};e(),l=setTimeout(()=>{e(!0),et.isUpdatingSelection=!1})}});return()=>{cancelAnimationFrame(s),l&&clearTimeout(l)}}});var es=(0,u.useCallback)(e=>{var t=eF.toDOMNode(x,x).getRootNode();if(null!=H&&H.current&&S&&t instanceof ShadowRoot){var r=e.getTargetRanges()[0],n=new window.Range;n.setStart(r.startContainer,r.startOffset),n.setEnd(r.endContainer,r.endOffset);var a=eF.toSlateRange(x,n,{exactMatch:!1,suppressThrow:!1});h.gB.select(x,a),e.preventDefault(),e.stopImmediatePropagation();return}if(z(),!d&&eF.hasEditableTarget(x,e.target)&&!tR(e,o)){if(er.current)return er.current.handleDOMBeforeInput(e);el.flush(),en.flush();var{selection:i}=x,{inputType:l}=e,s=e.dataTransfer||e.data||void 0,c="insertCompositionText"===l||"deleteCompositionText"===l;if(c&&eF.isComposing(x))return;var u=!1;if("insertText"===l&&i&&h.Q6.isCollapsed(i)&&e.data&&1===e.data.length&&/[a-z ]/i.test(e.data)&&0!==i.anchor.offset&&(u=!0,x.marks&&(u=!1),!L.get(x))){var{anchor:f}=i,[g,p]=eF.toDOMPoint(x,f),v=null==(E=g.parentElement)?void 0:E.closest("a"),m=eF.getWindow(x);if(u&&v&&eF.hasDOMNode(x,v)){var w,E,b,y,k=null==m?void 0:m.document.createTreeWalker(v,NodeFilter.SHOW_TEXT).lastChild();k===g&&(null==(y=k.textContent)?void 0:y.length)===p&&(u=!1)}if(u&&g.parentElement&&(null==m||null==(b=m.getComputedStyle(g.parentElement))?void 0:b.whiteSpace)==="pre"){var O=h.KE.above(x,{at:f.path,match:e=>h.Hg.isElement(e)&&h.KE.isBlock(x,e)});O&&h.bP.string(O[0]).includes("	")&&(u=!1)}}if((!l.startsWith("delete")||l.startsWith("deleteBy"))&&!L.get(x)){var[C]=e.getTargetRanges();if(C){var D=eF.toSlateRange(x,C,{exactMatch:!1,suppressThrow:!1});if(!i||!h.Q6.equals(i,D)){u=!1;var P=!c&&x.selection&&h.KE.rangeRef(x,x.selection);h.gB.select(x,D),P&&X.set(x,P)}}}if(c)return;if(u||e.preventDefault(),i&&h.Q6.isExpanded(i)&&l.startsWith("delete")){var B=l.endsWith("Backward")?"backward":"forward";h.KE.deleteFragment(x,{direction:B});return}switch(l){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":h.KE.deleteFragment(x);break;case"deleteContent":case"deleteContentForward":h.KE.deleteForward(x);break;case"deleteContentBackward":h.KE.deleteBackward(x);break;case"deleteEntireSoftLine":h.KE.deleteBackward(x,{unit:"line"}),h.KE.deleteForward(x,{unit:"line"});break;case"deleteHardLineBackward":h.KE.deleteBackward(x,{unit:"block"});break;case"deleteSoftLineBackward":h.KE.deleteBackward(x,{unit:"line"});break;case"deleteHardLineForward":h.KE.deleteForward(x,{unit:"block"});break;case"deleteSoftLineForward":h.KE.deleteForward(x,{unit:"line"});break;case"deleteWordBackward":h.KE.deleteBackward(x,{unit:"word"});break;case"deleteWordForward":h.KE.deleteForward(x,{unit:"word"});break;case"insertLineBreak":h.KE.insertSoftBreak(x);break;case"insertParagraph":h.KE.insertBreak(x);break;case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":"insertFromComposition"===l&&eF.isComposing(x)&&(F(!1),$.set(x,!1)),(null==s?void 0:s.constructor.name)==="DataTransfer"?eF.insertData(x,s):"string"==typeof s&&(u?N.current.push(()=>h.KE.insertText(x,s)):h.KE.insertText(x,s))}var K=null==(w=X.get(x))?void 0:w.unref();X.delete(x),!K||x.selection&&h.Q6.equals(x.selection,K)||h.gB.select(x,K)}},[x,en,z,o,d,el]),ec=(0,u.useCallback)(e=>{null==e?(en.cancel(),el.cancel(),Q.delete(x),U.delete(x),K.current&&j&&K.current.removeEventListener("beforeinput",es)):j&&e.addEventListener("beforeinput",es),K.current=e,"function"==typeof t?t(e):t&&(t.current=e)},[en,el,x,es,t]);eQ(()=>{var e=eF.getWindow(x);e.document.addEventListener("selectionchange",el);var t=()=>{et.isDraggingInternally=!1};return e.document.addEventListener("dragend",t),e.document.addEventListener("drop",t),()=>{e.document.removeEventListener("selectionchange",el),e.document.removeEventListener("dragend",t),e.document.removeEventListener("drop",t)}},[el,et]);var eh=a([x,[]]),eg=l&&1===x.children.length&&1===Array.from(h.bP.texts(x)).length&&""===h.bP.string(x)&&!P,ev=(0,u.useCallback)(e=>{if(e&&eg){var t;q(null==(t=e.getBoundingClientRect())?void 0:t.height)}else q(void 0)},[eg]);if(eg){var em=h.KE.start(x,[]);eh.push({[eo]:!0,placeholder:l,onPlaceholderResize:ev,anchor:em,focus:em})}var{marks:ew}=x;if(et.hasMarkPlaceholder=!1,x.selection&&h.Q6.isCollapsed(x.selection)&&ew){var{anchor:eE}=x.selection,eb=h.bP.leaf(x,eE.path),ey=m(eb,tx);if(!h.EY.equals(eb,ew,{loose:!0})){et.hasMarkPlaceholder=!0;var ek=Object.fromEntries(Object.keys(ey).map(e=>[e,null]));eh.push(tD(tD(tD({[ei]:!0},ek),ew),{},{anchor:eE,focus:eE}))}}return(0,u.useEffect)(()=>{setTimeout(()=>{var{selection:e}=x;if(e){var{anchor:t}=e,r=h.bP.leaf(x,t.path);if(ew&&!h.EY.equals(r,ew,{loose:!0}))return void Z.set(x,ew)}Z.delete(x)})}),u.createElement(td.Provider,{value:d},u.createElement(tk.Provider,{value:P},u.createElement(ta.Provider,{value:a},u.createElement(ty,{node:K,receivedUserInput:G},u.createElement(E,tD(tD({role:d?void 0:"textbox","aria-multiline":!d||void 0},k),{},{spellCheck:(!!j||!A)&&k.spellCheck,autoCorrect:j||!A?k.autoCorrect:"false",autoCapitalize:j||!A?k.autoCapitalize:"false","data-slate-editor":!0,"data-slate-node":"value",contentEditable:!d,zindex:-1,suppressContentEditableWarning:!0,ref:ec,style:tD(tD({},b?{}:tD({position:"relative",whiteSpace:"pre-wrap",wordWrap:"break-word"},W?{minHeight:W}:{})),w),onBeforeInput:(0,u.useCallback)(e=>{if(!j&&!d&&!tM(e,k.onBeforeInput)&&eF.hasSelectableTarget(x,e.target)&&(e.preventDefault(),!eF.isComposing(x))){var t=e.data;h.KE.insertText(x,t)}},[k.onBeforeInput,x,d]),onInput:(0,u.useCallback)(e=>{if(!tM(e,k.onInput)){if(er.current)return void er.current.handleInput();for(var t of N.current)t();if(N.current=[],!eF.isFocused(x)){var r=e.nativeEvent;if("historyUndo"===r.inputType&&"function"==typeof x.undo)return void x.undo();if("historyRedo"===r.inputType&&"function"==typeof x.redo)return void x.redo()}}},[k.onInput,x]),onBlur:(0,u.useCallback)(e=>{if(d||et.isUpdatingSelection||!eF.hasSelectableTarget(x,e.target)||tM(e,k.onBlur))return;var t=eF.findDocumentOrShadowRoot(x);if(et.latestElement!==t.activeElement){var{relatedTarget:r}=e;if(r!==eF.toDOMNode(x,x)&&!(eu(r)&&r.hasAttribute("data-slate-spacer"))){if(null!=r&&ef(r)&&eF.hasDOMNode(x,r)){var n=eF.toSlateNode(x,r);if(h.Hg.isElement(n)&&!x.isVoid(n))return}if(S){var a=eO(t);null==a||a.removeAllRanges()}Y.delete(x)}}},[d,et.isUpdatingSelection,et.latestElement,x,k.onBlur]),onClick:(0,u.useCallback)(e=>{if(eF.hasTarget(x,e.target)&&!tM(e,k.onClick)&&ef(e.target)){var t=eF.toSlateNode(x,e.target),r=eF.findPath(x,t);if(h.KE.hasPath(x,r)&&h.bP.get(x,r)===t){if(3===e.detail&&r.length>=1){var n=r;if(!(h.Hg.isElement(t)&&h.KE.isBlock(x,t))){var a,o=h.KE.above(x,{match:e=>h.Hg.isElement(e)&&h.KE.isBlock(x,e),at:r});n=null!=(a=null==o?void 0:o[1])?a:r.slice(0,1)}var i=h.KE.range(x,n);h.gB.select(x,i);return}if(!d){var l=h.KE.start(x,r),s=h.KE.end(x,r),c=h.KE.void(x,{at:l}),u=h.KE.void(x,{at:s});if(c&&u&&h.wA.equals(c[1],u[1])){var f=h.KE.range(x,l);h.gB.select(x,f)}}}}},[x,k.onClick,d]),onCompositionEnd:(0,u.useCallback)(e=>{if(eF.hasSelectableTarget(x,e.target)){var t;if(eF.isComposing(x)&&Promise.resolve().then(()=>{F(!1),$.set(x,!1)}),null==(t=er.current)||t.handleCompositionEnd(e),!tM(e,k.onCompositionEnd)&&!C&&!S&&!M&&!O&&!R&&!T&&e.data){var r=Z.get(x);Z.delete(x),void 0!==r&&(ee.set(x,x.marks),x.marks=r),h.KE.insertText(x,e.data);var n=ee.get(x);ee.delete(x),void 0!==n&&(x.marks=n)}}},[k.onCompositionEnd,x]),onCompositionUpdate:(0,u.useCallback)(e=>{!eF.hasSelectableTarget(x,e.target)||tM(e,k.onCompositionUpdate)||eF.isComposing(x)||(F(!0),$.set(x,!0))},[k.onCompositionUpdate,x]),onCompositionStart:(0,u.useCallback)(e=>{if(eF.hasSelectableTarget(x,e.target)&&(null==(t=er.current)||t.handleCompositionStart(e),!tM(e,k.onCompositionStart)&&!C)){F(!0);var t,{selection:r}=x;if(r&&h.Q6.isExpanded(r))return void h.KE.deleteFragment(x)}},[k.onCompositionStart,x]),onCopy:(0,u.useCallback)(e=>{!eF.hasSelectableTarget(x,e.target)||tM(e,k.onCopy)||tT(e)||(e.preventDefault(),eF.setFragmentData(x,e.clipboardData,"copy"))},[k.onCopy,x]),onCut:(0,u.useCallback)(e=>{if(!d&&eF.hasSelectableTarget(x,e.target)&&!tM(e,k.onCut)&&!tT(e)){e.preventDefault(),eF.setFragmentData(x,e.clipboardData,"cut");var{selection:t}=x;if(t)if(h.Q6.isExpanded(t))h.KE.deleteFragment(x);else{var r=h.bP.parent(x,t.anchor.path);h.KE.isVoid(x,r)&&h.gB.delete(x)}}},[d,x,k.onCut]),onDragOver:(0,u.useCallback)(e=>{if(eF.hasTarget(x,e.target)&&!tM(e,k.onDragOver)){var t=eF.toSlateNode(x,e.target);h.Hg.isElement(t)&&h.KE.isVoid(x,t)&&e.preventDefault()}},[k.onDragOver,x]),onDragStart:(0,u.useCallback)(e=>{if(!d&&eF.hasTarget(x,e.target)&&!tM(e,k.onDragStart)){var t=eF.toSlateNode(x,e.target),r=eF.findPath(x,t);if(h.Hg.isElement(t)&&h.KE.isVoid(x,t)||h.KE.void(x,{at:r,voids:!0})){var n=h.KE.range(x,r);h.gB.select(x,n)}et.isDraggingInternally=!0,eF.setFragmentData(x,e.dataTransfer,"drag")}},[d,x,k.onDragStart,et]),onDrop:(0,u.useCallback)(e=>{if(!d&&eF.hasTarget(x,e.target)&&!tM(e,k.onDrop)){e.preventDefault();var t=x.selection,r=eF.findEventRange(x,e),n=e.dataTransfer;h.gB.select(x,r),et.isDraggingInternally&&t&&!h.Q6.equals(t,r)&&!h.KE.void(x,{at:r,voids:!0})&&h.gB.delete(x,{at:t}),eF.insertData(x,n),eF.isFocused(x)||eF.focus(x)}},[d,x,k.onDrop,et]),onDragEnd:(0,u.useCallback)(e=>{!d&&et.isDraggingInternally&&k.onDragEnd&&eF.hasTarget(x,e.target)&&k.onDragEnd(e)},[d,et,k,x]),onFocus:(0,u.useCallback)(e=>{if(!d&&!et.isUpdatingSelection&&eF.hasEditableTarget(x,e.target)&&!tM(e,k.onFocus)){var t=eF.toDOMNode(x,x);if(et.latestElement=eF.findDocumentOrShadowRoot(x).activeElement,D&&e.target!==t)return void t.focus();Y.set(x,!0)}},[d,et,x,k.onFocus]),onKeyDown:(0,u.useCallback)(e=>{if(!d&&eF.hasEditableTarget(x,e.target)){null==(t=er.current)||t.handleKeyDown(e);var t,{nativeEvent:r}=e;if(eF.isComposing(x)&&!1===r.isComposing&&($.set(x,!1),F(!1)),!(tM(e,k.onKeyDown)||eF.isComposing(x))){var{selection:n}=x,a=x.children[null!==n?n.focus.path[0]:0],o="rtl"===i()(h.bP.string(a));if(tm.isRedo(r)){e.preventDefault(),"function"==typeof x.redo&&x.redo();return}if(tm.isUndo(r)){e.preventDefault(),"function"==typeof x.undo&&x.undo();return}if(tm.isMoveLineBackward(r)){e.preventDefault(),h.gB.move(x,{unit:"line",reverse:!0});return}if(tm.isMoveLineForward(r)){e.preventDefault(),h.gB.move(x,{unit:"line"});return}if(tm.isExtendLineBackward(r)){e.preventDefault(),h.gB.move(x,{unit:"line",edge:"focus",reverse:!0});return}if(tm.isExtendLineForward(r)){e.preventDefault(),h.gB.move(x,{unit:"line",edge:"focus"});return}if(tm.isMoveBackward(r)){e.preventDefault(),n&&h.Q6.isCollapsed(n)?h.gB.move(x,{reverse:!o}):h.gB.collapse(x,{edge:o?"end":"start"});return}if(tm.isMoveForward(r)){e.preventDefault(),n&&h.Q6.isCollapsed(n)?h.gB.move(x,{reverse:o}):h.gB.collapse(x,{edge:o?"start":"end"});return}if(tm.isMoveWordBackward(r)){e.preventDefault(),n&&h.Q6.isExpanded(n)&&h.gB.collapse(x,{edge:"focus"}),h.gB.move(x,{unit:"word",reverse:!o});return}if(tm.isMoveWordForward(r)){e.preventDefault(),n&&h.Q6.isExpanded(n)&&h.gB.collapse(x,{edge:"focus"}),h.gB.move(x,{unit:"word",reverse:o});return}if(j){if((B||S)&&n&&(tm.isDeleteBackward(r)||tm.isDeleteForward(r))&&h.Q6.isCollapsed(n)){var l=h.bP.parent(x,n.anchor.path);if(h.Hg.isElement(l)&&h.KE.isVoid(x,l)&&(h.KE.isInline(x,l)||h.KE.isBlock(x,l))){e.preventDefault(),h.KE.deleteBackward(x,{unit:"block"});return}}}else{if(tm.isBold(r)||tm.isItalic(r)||tm.isTransposeCharacter(r))return void e.preventDefault();if(tm.isSoftBreak(r)){e.preventDefault(),h.KE.insertSoftBreak(x);return}if(tm.isSplitBlock(r)){e.preventDefault(),h.KE.insertBreak(x);return}if(tm.isDeleteBackward(r)){e.preventDefault(),n&&h.Q6.isExpanded(n)?h.KE.deleteFragment(x,{direction:"backward"}):h.KE.deleteBackward(x);return}if(tm.isDeleteForward(r)){e.preventDefault(),n&&h.Q6.isExpanded(n)?h.KE.deleteFragment(x,{direction:"forward"}):h.KE.deleteForward(x);return}if(tm.isDeleteLineBackward(r)){e.preventDefault(),n&&h.Q6.isExpanded(n)?h.KE.deleteFragment(x,{direction:"backward"}):h.KE.deleteBackward(x,{unit:"line"});return}if(tm.isDeleteLineForward(r)){e.preventDefault(),n&&h.Q6.isExpanded(n)?h.KE.deleteFragment(x,{direction:"forward"}):h.KE.deleteForward(x,{unit:"line"});return}if(tm.isDeleteWordBackward(r)){e.preventDefault(),n&&h.Q6.isExpanded(n)?h.KE.deleteFragment(x,{direction:"backward"}):h.KE.deleteBackward(x,{unit:"word"});return}if(tm.isDeleteWordForward(r)){e.preventDefault(),n&&h.Q6.isExpanded(n)?h.KE.deleteFragment(x,{direction:"forward"}):h.KE.deleteForward(x,{unit:"word"});return}}}}},[d,x,k.onKeyDown]),onPaste:(0,u.useCallback)(e=>{!d&&eF.hasEditableTarget(x,e.target)&&!tM(e,k.onPaste)&&(!j||ep(e.nativeEvent)||S)&&(e.preventDefault(),eF.insertData(x,e.clipboardData))},[d,x,k.onPaste])}),u.createElement(tS,{decorations:eh,node:x,renderElement:f,renderPlaceholder:p,renderLeaf:g,selection:x.selection}))))))}),tB=e=>{var{attributes:t,children:r}=e;return u.createElement("span",tD({},t),r,C&&u.createElement("br",null))},tF=()=>[],tK=(e,t)=>{if(t.getBoundingClientRect&&(!e.selection||e.selection&&h.Q6.isCollapsed(e.selection))){var r=t.startContainer.parentElement;r.getBoundingClientRect=t.getBoundingClientRect.bind(t),(0,f.A)(r,{scrollMode:"if-needed"}),delete r.getBoundingClientRect}},tM=(e,t)=>{if(!t)return!1;var r=t(e);return null!=r?r:e.isDefaultPrevented()||e.isPropagationStopped()},tT=e=>ef(e.target)&&(e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement),tR=(e,t)=>{if(!t)return!1;var r=t(e);return null!=r?r:e.defaultPrevented},tA=(0,u.createContext)(!1),tj=(0,u.createContext)({}),tL=["editor","children","onChange","onSelectionChange","onValueChange","initialValue"],tN=e=>{var{editor:t,children:r,onChange:n,onSelectionChange:a,onValueChange:o,initialValue:i}=e,l=m(e,tL),[s,d]=u.useState(()=>{if(!h.bP.isNodeList(i))throw Error("[Slate] initialValue is invalid! Expected a list of elements but got: ".concat(h.h6.stringify(i)));if(!h.KE.isEditor(t))throw Error("[Slate] editor is invalid! You passed: ".concat(h.h6.stringify(t)));return t.children=i,Object.assign(t,l),{v:0,editor:t}}),{selectorContext:c,onChange:f}=function(e){var t=(0,u.useRef)([]).current,r=(0,u.useRef)({editor:e}).current,n=(0,u.useCallback)(e=>{r.editor=e,t.forEach(t=>t(e))},[t,r]);return{selectorContext:(0,u.useMemo)(()=>({getSlate:()=>r.editor,addEventListener:e=>(t.push(e),()=>{t.splice(t.indexOf(e),1)})}),[t,r]),onChange:n}}(t),g=(0,u.useCallback)(e=>{var r;n&&n(t.children),(null==e||null==(r=e.operation)?void 0:r.type)==="set_selection"?null==a||a(t.selection):null==o||o(t.children),d(e=>({v:e.v+1,editor:t})),f(t)},[t,f,n,a,o]);(0,u.useEffect)(()=>(G.set(t,g),()=>{G.set(t,()=>{})}),[t,g]);var[p,v]=(0,u.useState)(eF.isFocused(t));return(0,u.useEffect)(()=>{v(eF.isFocused(t))},[t]),eQ(()=>{var e=()=>v(eF.isFocused(t));return k>=17?(document.addEventListener("focusin",e),document.addEventListener("focusout",e),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",e)}):(document.addEventListener("focus",e,!0),document.addEventListener("blur",e,!0),()=>{document.removeEventListener("focus",e,!0),document.removeEventListener("blur",e,!0)})},[]),u.createElement(tj.Provider,{value:c},u.createElement(tu.Provider,{value:s},u.createElement(b.Provider,{value:s.editor},u.createElement(tA.Provider,{value:p},r))))},tW=(e,t)=>{var r=(t.top+t.bottom)/2;return e.top<=r&&e.bottom>=r},tI=(e,t,r)=>{var n=eF.toDOMRange(e,t).getBoundingClientRect(),a=eF.toDOMRange(e,r).getBoundingClientRect();return tW(n,a)&&tW(a,n)},tQ=(e,t)=>{var r=h.KE.range(e,h.Q6.end(t)),n=Array.from(h.KE.positions(e,{at:t})),a=0,o=n.length,i=Math.floor(o/2);if(tI(e,h.KE.range(e,n[a]),r))return h.KE.range(e,n[a],r);if(n.length<2)return h.KE.range(e,n[n.length-1],r);for(;i!==n.length&&i!==a;)tI(e,h.KE.range(e,n[i]),r)?o=i:a=i,i=Math.floor((a+o)/2);return h.KE.range(e,n[o],r)};function tq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function t_(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tq(Object(r),!0).forEach(function(t){E(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tq(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var tU=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x-slate-fragment",{apply:r,onChange:n,deleteBackward:a,addMark:o,removeMark:i}=e;return z.set(e,new WeakMap),e.addMark=(t,r)=>{var n,a;null==(n=J.get(e))||n(),!Z.get(e)&&null!=(a=et.get(e))&&a.length&&Z.set(e,null),ee.delete(e),o(t,r)},e.removeMark=t=>{var r;!Z.get(e)&&null!=(r=et.get(e))&&r.length&&Z.set(e,null),ee.delete(e),i(t)},e.deleteBackward=t=>{if("line"!==t)return a(t);if(e.selection&&h.Q6.isCollapsed(e.selection)){var r=h.KE.above(e,{match:t=>h.Hg.isElement(t)&&h.KE.isBlock(e,t),at:e.selection});if(r){var[,n]=r,o=h.KE.range(e,n,e.selection.anchor),i=tQ(e,o);h.Q6.isCollapsed(i)||h.gB.delete(e,{at:i})}}},e.apply=t=>{var n=[],a=[],o=et.get(e);if(null!=o&&o.length){var i=o.map(e=>(function(e,t){var{path:r,diff:n,id:a}=e;switch(t.type){case"insert_text":if(!h.wA.equals(t.path,r)||t.offset>=n.end)return e;if(t.offset<=n.start)return{diff:{start:t.text.length+n.start,end:t.text.length+n.end,text:n.text},id:a,path:r};return{diff:{start:n.start,end:n.end+t.text.length,text:n.text},id:a,path:r};case"remove_text":if(!h.wA.equals(t.path,r)||t.offset>=n.end)return e;if(t.offset+t.text.length<=n.start)return{diff:{start:n.start-t.text.length,end:n.end-t.text.length,text:n.text},id:a,path:r};return{diff:{start:n.start,end:n.end-t.text.length,text:n.text},id:a,path:r};case"split_node":if(!h.wA.equals(t.path,r)||t.position>=n.end)return{diff:n,id:a,path:h.wA.transform(r,t,{affinity:"backward"})};if(t.position>n.start)return{diff:{start:n.start,end:Math.min(t.position,n.end),text:n.text},id:a,path:r};return{diff:{start:n.start-t.position,end:n.end-t.position,text:n.text},id:a,path:h.wA.transform(r,t,{affinity:"forward"})};case"merge_node":if(!h.wA.equals(t.path,r))return{diff:n,id:a,path:h.wA.transform(r,t)};return{diff:{start:n.start+t.position,end:n.end+t.position,text:n.text},id:a,path:h.wA.transform(r,t)}}var o=h.wA.transform(r,t);return o?{diff:n,path:o,id:a}:null})(e,t)).filter(Boolean);et.set(e,i)}var l=en.get(e);l&&en.set(e,ej(e,l,t));var s=er.get(e);if(null!=s&&s.at){var d=h.bR.isPoint(null==s?void 0:s.at)?eA(e,s.at,t):ej(e,s.at,t);er.set(e,d?t_(t_({},s),{},{at:d}):null)}switch(t.type){case"insert_text":case"remove_text":case"set_node":case"split_node":n.push(...tH(e,t.path));break;case"set_selection":null==(c=X.get(e))||c.unref(),X.delete(e);break;case"insert_node":case"remove_node":n.push(...tH(e,h.wA.parent(t.path)));break;case"merge_node":n.push(...tH(e,h.wA.previous(t.path)));break;case"move_node":n.push(...tH(e,h.wA.common(h.wA.parent(t.path),h.wA.parent(t.newPath)))),h.wA.isBefore(t.path,t.newPath)?(n.push(...tH(e,h.wA.parent(t.path))),u=t.newPath):(n.push(...tH(e,h.wA.parent(t.newPath))),u=t.path);var c,u,f=h.bP.get(e,h.wA.parent(u)),g=eF.findKey(e,f);a.push([h.KE.pathRef(e,h.wA.parent(u)),g])}switch(r(t),t.type){case"insert_node":case"remove_node":case"merge_node":case"move_node":case"split_node":L.set(e,!0)}for(var[p,v]of n){var[m]=h.KE.node(e,p);H.set(m,v)}for(var[w,E]of a){if(w.current){var[b]=h.KE.node(e,w.current);H.set(b,E)}w.unref()}},e.setFragmentData=r=>{var{selection:n}=e;if(n){var[a,o]=h.Q6.edges(n),i=h.KE.void(e,{at:a.path}),l=h.KE.void(e,{at:o.path});if(!h.Q6.isCollapsed(n)||i){var s=eF.toDOMRange(e,n),d=s.cloneContents(),c=d.childNodes[0];if(d.childNodes.forEach(e=>{e.textContent&&""!==e.textContent.trim()&&(c=e)}),l){var[u]=l,f=s.cloneRange(),g=eF.toDOMNode(e,u);f.setEndAfter(g),d=f.cloneContents()}if(i&&(c=d.querySelector("[data-slate-spacer]")),Array.from(d.querySelectorAll("[data-slate-zero-width]")).forEach(e=>{var t="n"===e.getAttribute("data-slate-zero-width");e.textContent=t?"\n":""}),eg(c)){var p=c.ownerDocument.createElement("span");p.style.whiteSpace="pre",p.appendChild(c),d.appendChild(p),c=p}var v=JSON.stringify(e.getFragment()),m=window.btoa(encodeURIComponent(v));c.setAttribute("data-slate-fragment",m),r.setData("application/".concat(t),m);var w=d.ownerDocument.createElement("div");return w.appendChild(d),w.setAttribute("hidden","true"),d.ownerDocument.body.appendChild(w),r.setData("text/html",w.innerHTML),r.setData("text/plain",eb(w)),d.ownerDocument.body.removeChild(w),r}}},e.insertData=t=>{e.insertFragmentData(t)||e.insertTextData(t)},e.insertFragmentData=r=>{var n=r.getData("application/".concat(t))||ek(r);if(n){var a=JSON.parse(decodeURIComponent(window.atob(n)));return e.insertFragment(a),!0}return!1},e.insertTextData=t=>{var r=t.getData("text/plain");if(r){var n=r.split(/\r\n|\r|\n/),a=!1;for(var o of n)a&&h.gB.splitNodes(e,{always:!0}),e.insertText(o),a=!0;return!0}return!1},e.onChange=t=>{(k<18?v.unstable_batchedUpdates:e=>e())(()=>{var r=G.get(e);r&&r(t),n(t)})},e},tH=(e,t)=>{var r=[];for(var[n,a]of h.KE.levels(e,{at:t})){var o=eF.findKey(e,n);r.push([a,o])}return r}}}]);