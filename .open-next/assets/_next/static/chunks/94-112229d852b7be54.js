"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[94],{636:(e,t,n)=>{n.r(t),n.d(t,{KeylessCookieSync:()=>a});var i=n(35695),o=n(12115),r=n(89331);function a(e){var t;let a=(null==(t=(0,i.useSelectedLayoutSegments)()[0])?void 0:t.startsWith("/_not-found"))||!1;return(0,o.useEffect)(()=>{r.I&&!a&&n.e(724).then(n.bind(n,94724)).then(t=>t.syncKeylessConfigAction({...e,returnUrl:window.location.href}))},[a]),e.children}},671:(e,t,n)=>{n.d(t,{AuthenticateWithRedirectCallback:()=>i.B$,ClerkDegraded:()=>i.wF,ClerkFailed:()=>i.lT,ClerkLoaded:()=>i.z0,ClerkLoading:()=>i.A0,RedirectToCreateOrganization:()=>i.rm,RedirectToOrganizationProfile:()=>i.m2,RedirectToSignIn:()=>i.W5,RedirectToSignUp:()=>i.mO,RedirectToUserProfile:()=>i.eG});var i=n(87405);n(38572)},4701:(e,t,n)=>{n.d(t,{W:()=>L});var i=n(95155),o=n(74935),r=n(61089),a=n(99708),l=n(89613),s=n(12115),c=n(43210),d=n(14284),u=n(34865),m=n(49743),h=n(7670),f=n(67118),x=n(66334),b=n(96616),j=n(65279),v=n(18569),I=n(32270),g=n(10183),p=n(10930),N=n(89362);function A(e){return(0,i.jsxs)(N.In,{...e,children:[(0,i.jsx)("path",{d:"M4.5 12.91c-.58-.2-1-.76-1-1.41v-6c0-1.1.9-2 2-2h6c.65 0 1.2.42 1.41 1"}),(0,i.jsx)("rect",{x:7,y:7,width:9.5,height:9.5,rx:1.5})]})}function C({title:e,code:t,overrides:n}){let o=(0,x.Pv)(n),[r,a]=(0,s.useState)(!1),c=(0,s.useRef)(null);(0,s.useEffect)(()=>(r&&(c.current=setTimeout(()=>{a(!1)},1500)),()=>{c.current&&clearTimeout(c.current)}),[r]);let d=(0,s.useCallback)(()=>{try{navigator.clipboard.writeText(t),a(!0)}catch(e){console.error(e)}},[t]);return(0,i.jsx)(l.Bc,{children:(0,i.jsxs)("div",{className:"lb-code-block",children:[(0,i.jsxs)("div",{className:"lb-code-block-header",children:[(0,i.jsx)("span",{className:"lb-code-block-title",children:e}),(0,i.jsx)("div",{className:"lb-code-block-header-actions",children:(0,i.jsx)(p.m_,{content:r?null:o.COPY_TO_CLIPBOARD,children:(0,i.jsx)(g.$n,{className:"lb-code-block-header-action",icon:r?(0,i.jsx)(m.S,{}):(0,i.jsx)(A,{}),onClick:d,"aria-label":o.COPY_TO_CLIPBOARD})})})]}),(0,i.jsx)("pre",{className:"lb-code-block-content",children:(0,i.jsx)("code",{children:t})})]})})}var O=n(55642),k=n(23309),T=n(4213),y=n(42376);function _({comment:e,showHeader:t=!0,showAttachments:n=!0,showReactions:o=!0,overrides:r,className:a,...l}){let s=(0,x.Pv)(r);return(0,i.jsxs)("div",{className:(0,v.cn)("lb-root lb-inbox-notification-comment lb-comment",a),...l,children:[t&&(0,i.jsx)("div",{className:"lb-comment-header",children:(0,i.jsx)(y.K,{className:"lb-comment-author",userId:e.userId})}),(0,i.jsx)("div",{className:"lb-comment-content",children:e.body?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(k.nB,{className:"lb-comment-body",body:e.body,components:{Mention:T.ai,Link:T.X4}}),o&&e.reactions.length>0&&(0,i.jsx)("div",{className:"lb-comment-reactions",children:e.reactions.map(e=>(0,i.jsx)(T.kR,{reaction:e,overrides:r,disabled:!0},e.emoji))}),n&&e.attachments.length>0?(0,i.jsx)("div",{className:"lb-comment-attachments",children:(0,i.jsx)("div",{className:"lb-attachments",children:e.attachments.map(t=>(0,i.jsx)(T.oP,{attachment:t,overrides:r,roomId:e.roomId},t.id))})}):null]}):(0,i.jsx)("div",{className:"lb-comment-body",children:(0,i.jsx)("p",{className:"lb-comment-deleted",children:s.COMMENT_DELETED})})})]})}function w(e){return Array.from(new Set(e.map(e=>e.userId)))}var S=n(12735);function R(e){let{roomId:t,className:n,...o}=e,{info:a,isLoading:l}=(0,r.xx)(t),c=(0,s.useMemo)(()=>{var e;return null!=(e=null==a?void 0:a.name)?e:t},[null==a?void 0:a.name,t]);return(0,i.jsx)("span",{className:(0,v.cn)("lb-name lb-room",n),"data-loading":l?"":void 0,...o,children:l?null:c})}var E=n(9449);let P=(0,s.forwardRef)((e,t)=>{let{inboxNotification:n,children:o,aside:d,title:u,date:j,unread:I,markAsReadOnClick:N,onClick:A,href:C,showActions:k,overrides:T,components:y,className:_,asChild:w,additionalDropdownItemsBefore:S,additionalDropdownItemsAfter:R,...P}=e,B=(0,x.Pv)(T),{Anchor:M}=(0,c.kj)(y),D=w?a.DX:M,[U,F]=(0,s.useState)(!1),L=(0,r.AH)(),z=(0,r.Ec)(),X=(0,s.useCallback)(e=>{null==A||A(e);let t=null!=N?N:!!C;I&&t&&L(n.id)},[C,n.id,N,L,A,I]),H=(0,s.useCallback)(e=>{e.stopPropagation()},[]),J=(0,s.useCallback)(e=>{e.preventDefault(),e.stopPropagation()},[]),K=(0,s.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),F(e=>!e)},[]),W=(0,s.useCallback)(()=>{L(n.id)},[n.id,L]),G=(0,s.useCallback)(()=>{z(n.id)},[n.id,z]);return(0,i.jsx)(l.Bc,{children:(0,i.jsxs)(D,{className:(0,v.cn)("lb-root lb-inbox-notification","hover"===k&&"lb-inbox-notification:show-actions-hover",U&&"lb-inbox-notification:action-open",_),dir:B.dir,"data-unread":I?"":void 0,"data-kind":n.kind,onClick:X,href:C,...P,ref:t,children:[d&&(0,i.jsx)("div",{className:"lb-inbox-notification-aside",children:d}),(0,i.jsxs)("div",{className:"lb-inbox-notification-content",children:[(0,i.jsxs)("div",{className:"lb-inbox-notification-header",children:[(0,i.jsx)("span",{className:"lb-inbox-notification-title",children:u}),(0,i.jsx)("div",{className:"lb-inbox-notification-details",children:(0,i.jsxs)("span",{className:"lb-inbox-notification-details-labels",children:[(0,i.jsx)(b.D,{locale:B.locale,date:j,className:"lb-date lb-inbox-notification-date"}),I&&(0,i.jsx)("span",{className:"lb-inbox-notification-unread-indicator",role:"presentation"})]})}),k&&(0,i.jsx)("div",{className:"lb-inbox-notification-actions",children:(0,i.jsx)(O.ms,{open:U,onOpenChange:F,align:"end",content:(0,i.jsxs)(i.Fragment,{children:[S,I?(0,i.jsx)(O.tJ,{onSelect:W,onClick:H,icon:(0,i.jsx)(m.S,{}),children:B.INBOX_NOTIFICATION_MARK_AS_READ}):null,(0,i.jsx)(O.tJ,{onSelect:G,onClick:H,icon:(0,i.jsx)(h.d,{}),children:B.INBOX_NOTIFICATION_DELETE}),R]}),children:(0,i.jsx)(p.m_,{content:B.INBOX_NOTIFICATION_MORE,children:(0,i.jsx)(E.ty,{asChild:!0,children:(0,i.jsx)(g.$n,{className:"lb-inbox-notification-action",onClick:K,onPointerDown:J,onPointerUp:J,"aria-label":B.INBOX_NOTIFICATION_MORE,icon:(0,i.jsx)(f.z,{})})})})})})]}),(0,i.jsx)("div",{className:"lb-inbox-notification-body",children:o})]})]})})});function B(e){let{className:t,...n}=e;return(0,i.jsx)(I.e,{className:(0,v.cn)("lb-inbox-notification-avatar",t),...n})}let M=(0,s.forwardRef)((e,t)=>{let{inboxNotification:n,href:a,showRoomName:l=!0,showReactions:c=!0,showAttachments:m=!0,showActions:h="hover",overrides:f,...b}=e,v=(0,x.Pv)(f),I=(0,r.eg)(n.id),{status:g,subscribe:p,unsubscribe:N}=(0,r.mp)(I.roomId,I.id),A=(0,j.T)(),{info:C}=(0,r.xx)(n.roomId),k=(0,s.useMemo)(()=>{let e=function(e,t,n){let i=t.comments.filter(t=>!!t.body&&(e.readAt?t.createdAt>e.readAt&&t.createdAt<=e.notifiedAt:t.createdAt<=e.notifiedAt));if(0===i.length){let n=t.comments.filter(e=>e.body).slice(-3);return{type:"comments",unread:!1,comments:n,userIds:w(n),date:e.notifiedAt}}let r=function(e,t){if(e.length)for(let n=e.length-1;n>=0;n--){let i=e[n];if(i.userId!==t&&i.body&&(0,o.Je)(i.body,e=>"user"===e.kind&&e.id===t).length>0)return i}}(i,n);return r?{type:"mention",unread:!0,comments:[r],userIds:[r.userId],date:r.createdAt}:{type:"comments",unread:!0,comments:i.slice(-3),userIds:w(i),date:e.notifiedAt}}(n,I,null!=A?A:"");if(0===e.comments.length||0===e.userIds.length)return null;switch(e.type){case"comments":{let t=[...e.userIds].reverse(),n=t[0],o=(0,i.jsx)(B,{userId:n}),r=v.INBOX_NOTIFICATION_THREAD_COMMENTS_LIST((0,i.jsx)(S.B,{values:t.map(e=>(0,i.jsx)(y.K,{userId:e,replaceSelf:!0},e)),formatRemaining:v.LIST_REMAINING_USERS,truncate:2,locale:v.locale}),l?(0,i.jsx)(R,{roomId:I.roomId}):void 0,t.length),a=(0,i.jsx)("div",{className:"lb-inbox-notification-comments",children:e.comments.map(t=>(0,i.jsx)(_,{comment:t,showHeader:e.comments.length>1,showAttachments:m,showReactions:c,overrides:f},t.id))});return{unread:e.unread,date:e.date,aside:o,title:r,content:a,threadId:I.id,commentId:e.comments[e.comments.length-1].id}}case"mention":{let t=e.userIds[0],n=e.comments[0],o=(0,i.jsx)(B,{userId:t}),r=v.INBOX_NOTIFICATION_THREAD_MENTION((0,i.jsx)(y.K,{userId:t},t),l?(0,i.jsx)(R,{roomId:I.roomId}):void 0),a=(0,i.jsx)("div",{className:"lb-inbox-notification-comments",children:(0,i.jsx)(_,{comment:n,showHeader:!1,showAttachments:m,showReactions:c,overrides:f},n.id)});return{unread:e.unread,date:e.date,aside:o,title:r,content:a,threadId:I.id,commentId:n.id}}default:return(0,o.xb)(e,"Unexpected thread inbox notification type")}},[v,A,n,f,l,m,c,I]),T=(0,s.useMemo)(()=>{let e=null!=a?a:null==C?void 0:C.url;return e?(0,o.Jv)(e,void 0,null==k?void 0:k.commentId):void 0},[null==k?void 0:k.commentId,a,null==C?void 0:C.url]),E=(0,s.useCallback)(()=>{"subscribed"===g?N():p()},[g,p,N]),M=(0,s.useCallback)(e=>{e.stopPropagation()},[]);if(!k)return null;let{aside:D,title:U,content:F,date:L,unread:z}=k;return(0,i.jsx)(P,{inboxNotification:n,aside:D,title:U,date:L,unread:z,overrides:f,href:T,showActions:h,markAsReadOnClick:!1,additionalDropdownItemsBefore:(0,i.jsx)(O.tJ,{onSelect:E,onClick:M,icon:"subscribed"===g?(0,i.jsx)(u.w,{}):(0,i.jsx)(d.X,{}),children:"subscribed"===g?v.THREAD_UNSUBSCRIBE:v.THREAD_SUBSCRIBE}),...b,ref:t,children:F})}),D=(0,s.forwardRef)((e,t)=>{let{inboxNotification:n,showActions:a="hover",showRoomName:l=!0,href:c,overrides:d,...u}=e,m=(0,x.Pv)(d),{info:h}=(0,r.xx)(n.roomId),f=(0,s.useMemo)(()=>{var e;let t=null!=c?c:null==h?void 0:h.url;return t&&null!=(e=(0,o.Jf)(t))?e:void 0},[c,null==h?void 0:h.url]),b=(0,s.useMemo)(()=>!n.readAt||n.notifiedAt>n.readAt,[n.notifiedAt,n.readAt]);return(0,i.jsx)(P,{inboxNotification:n,aside:(0,i.jsx)(B,{userId:n.createdBy}),title:m.INBOX_NOTIFICATION_TEXT_MENTION((0,i.jsx)(y.K,{userId:n.createdBy},n.createdBy),l?(0,i.jsx)(R,{roomId:n.roomId}):void 0),date:n.notifiedAt,unread:b,overrides:d,showActions:a,href:f,...u,ref:t})}),U=(0,s.forwardRef)((e,t)=>{let{inboxNotification:n,showActions:o="hover",title:r,aside:a,children:l,overrides:c,...d}=e,u=(0,s.useMemo)(()=>!n.readAt||n.notifiedAt>n.readAt,[n.notifiedAt,n.readAt]);return(0,i.jsx)(P,{inboxNotification:n,aside:a,title:r,date:n.notifiedAt,unread:u,overrides:c,showActions:o,...d,ref:t,children:l})}),F=(0,s.forwardRef)((e,t)=>{let{inboxNotification:n,showActions:o="hover",overrides:r,...a}=e,l=(0,s.useMemo)(()=>!n.readAt||n.notifiedAt>n.readAt,[n.notifiedAt,n.readAt]);return(0,i.jsx)(P,{inboxNotification:n,title:(0,i.jsx)("code",{children:n.id}),date:n.notifiedAt,unread:l,overrides:r,showActions:o,...a,ref:t,"data-inspector":"",children:(0,i.jsx)(C,{title:"Data",code:JSON.stringify(n,null,2)})})}),L=Object.assign((0,s.forwardRef)((e,t)=>{var n,o;let{inboxNotification:r,kinds:a,...l}=e;switch(r.kind){case"thread":{let e=null!=(n=null==a?void 0:a.thread)?n:M;return(0,i.jsx)(e,{inboxNotification:r,...l,ref:t})}case"textMention":{let e=null!=(o=null==a?void 0:a.textMention)?o:D;return(0,i.jsx)(e,{inboxNotification:r,...l,ref:t})}default:{let e=null==a?void 0:a[r.kind];if(!e)return null;return(0,i.jsx)(e,{inboxNotification:r,...l,ref:t})}}}),{Thread:M,TextMention:D,Custom:U,Inspector:F,Icon:function(e){let{className:t,...n}=e;return(0,i.jsx)("div",{className:(0,v.cn)("lb-inbox-notification-icon",t),...n})},Avatar:B})},9558:(e,t,n)=>{n.d(t,{_:()=>s});var i=n(95155),o=n(12115),r=n(18569),a=n(80464);function l(e){let{enabled:t,onReachEnd:n}=e,r=(0,o.useRef)(null);return(0,a.q)(r,e=>{e&&n()},{enabled:t}),(0,i.jsx)("div",{ref:r,style:{height:0}})}let s=(0,o.forwardRef)((e,t)=>{let{onReachEnd:n,children:a,className:s,...c}=e;return(0,i.jsxs)("ol",{className:(0,r.cn)("lb-root lb-inbox-notification-list",s),...c,ref:t,children:[o.Children.map(a,(e,t)=>(0,i.jsx)("li",{className:"lb-inbox-notification-list-item",children:e},t)),n&&(0,i.jsx)(l,{onReachEnd:n,enabled:o.Children.count(a)>0})]})})},15256:(e,t,n)=>{n.d(t,{useAuth:()=>o.d,useClerk:()=>i.ho,useEmailLink:()=>i.ui,useOrganization:()=>i.Z5,useOrganizationList:()=>i.D_,useReverification:()=>i.Wp,useSession:()=>i.wV,useSessionList:()=>i.g7,useSignIn:()=>i.go,useSignUp:()=>i.yC,useUser:()=>i.Jd});var i=n(87405);n(23789);var o=n(27016)},27016:(e,t,n)=>{n.d(t,{PromisifiedAuthProvider:()=>s,d:()=>c});var i=n(87405),o=n(38572),r=n(35583),a=n(12115);let l=a.createContext(null);function s(e){let{authPromise:t,children:n}=e;return a.createElement(l.Provider,{value:t},n)}function c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,r.useRouter)(),n=a.useContext(l),s=n;return(n&&"then"in n&&(s=a.use(n)),"undefined"!=typeof window)?(0,i.As)({...s,...e}):t?(0,i.As)(e):(0,o.hP)({...s,...e})}},61657:(e,t,n)=>{n.d(t,{APIKeys:()=>i.Lq,CreateOrganization:()=>i.ul,GoogleOneTap:()=>i.PQ,OrganizationList:()=>i.oE,OrganizationProfile:()=>m,OrganizationSwitcher:()=>i.NC,PricingTable:()=>i.nm,SignIn:()=>h,SignInButton:()=>i.hZ,SignInWithMetamaskButton:()=>i.M_,SignOutButton:()=>i.ct,SignUp:()=>f,SignUpButton:()=>i.Ny,TaskSelectOrganization:()=>i.Rv,UserButton:()=>i.uF,UserProfile:()=>u,Waitlist:()=>i.cP});var i=n(87405),o=n(12115),r=n(38572),a=n(48416),l=n(66299);let s=function(e,t,n){let r=!(arguments.length>3)||void 0===arguments[3]||arguments[3],s=o.useRef(0),{pagesRouter:c}=(0,l.r)(),{session:d,isLoaded:u}=(0,i.wV)();(0,a.Fj)()||o.useEffect(()=>{if(!u||n&&"path"!==n||r&&!d)return;let i=new AbortController,o=()=>{let n=c?"".concat(t,"/[[...index]].tsx"):"".concat(t,"/[[...rest]]/page.tsx");throw Error("\nClerk: The <".concat(e,'/> component is not configured correctly. The most likely reasons for this error are:\n\n1. The "').concat(t,'" route is not a catch-all route.\nIt is recommended to convert this route to a catch-all route, eg: "').concat(n,'". Alternatively, you can update the <').concat(e,'/> component to use hash-based routing by setting the "routing" prop to "hash".\n\n2. The <').concat(e,'/> component is mounted in a catch-all route, but all routes under "').concat(t,'" are protected by the middleware.\nTo resolve this, ensure that the middleware does not protect the catch-all route or any of its children. If you are using the "createRouteMatcher" helper, consider adding "(.*)" to the end of the route pattern, eg: "').concat(t,'(.*)". For more information, see: https://clerk.com/docs/references/nextjs/clerk-middleware#create-route-matcher\n'))};return c?c.pathname.match(/\[\[\.\.\..+]]/)||o():(async()=>{let t;if(s.current++,!(s.current>1)){try{let n="".concat(window.location.origin).concat(window.location.pathname,"/").concat(e,"_clerk_catchall_check_").concat(Date.now());t=await fetch(n,{signal:i.signal})}catch(e){}(null==t?void 0:t.status)===404&&o()}})(),()=>{s.current>1&&i.abort()}},[u])},c=()=>{let e=o.useRef(),{pagesRouter:t}=(0,l.r)();if(t)if(e.current)return e.current;else return e.current=t.pathname.replace(/\/\[\[\.\.\..*/,""),e.current;let i=n(35695).usePathname,r=n(35695).useParams,a=(i()||"").split("/").filter(Boolean),s=Object.values(r()||{}).filter(e=>Array.isArray(e)).flat(1/0);return e.current||(e.current="/".concat(a.slice(0,a.length-s.length).join("/"))),e.current};function d(e,t){let n=!(arguments.length>2)||void 0===arguments[2]||arguments[2],i=c(),o=(0,r.yC)(e,t,{path:i});return s(e,i,o.routing,n),o}let u=Object.assign(e=>o.createElement(i.Fv,{...d("UserProfile",e)}),{...i.Fv}),m=Object.assign(e=>o.createElement(i.nC,{...d("OrganizationProfile",e)}),{...i.nC}),h=e=>o.createElement(i.Ls,{...d("SignIn",e,!1)}),f=e=>o.createElement(i.Hx,{...d("SignUp",e,!1)})}}]);