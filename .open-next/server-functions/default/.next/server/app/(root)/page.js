(()=>{var e={};e.id=76,e.ids=[76],e.modules={1322:(e,t)=>{"use strict";function s(e){let{widthInt:t,heightInt:s,blurWidth:i,blurHeight:r,blurDataURL:n,objectFit:o}=e,a=i?40*i:t,l=r?40*r:s,d=a&&l?"viewBox='0 0 "+a+" "+l+"'":"";return"%3Csvg xmlns='http://www.w3.org/2000/svg' "+d+"%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3CfeColorMatrix values='1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1' result='s'/%3E%3CfeFlood x='0' y='0' width='100%25' height='100%25'/%3E%3CfeComposite operator='out' in='s'/%3E%3CfeComposite in2='SourceGraphic'/%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3C/filter%3E%3Cimage width='100%25' height='100%25' x='0' y='0' preserveAspectRatio='"+(d?"none":"contain"===o?"xMidYMid":"cover"===o?"xMidYMid slice":"none")+"' style='filter: url(%23b);' href='"+n+"'/%3E%3C/svg%3E"}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getImageBlurSvg",{enumerable:!0,get:function(){return s}})},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4536:(e,t,s)=>{let{createProxy:i}=s(39844);e.exports=i("/Users/bhaskarg/Documents/Projects/LiveDocs/google-sheets-clone/node_modules/next/dist/client/app-dir/link.js")},9131:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getImgProps",{enumerable:!0,get:function(){return l}}),s(21122);let i=s(1322),r=s(27894),n=["-moz-initial","fill","none","scale-down",void 0];function o(e){return void 0!==e.default}function a(e){return void 0===e?e:"number"==typeof e?Number.isFinite(e)?e:NaN:"string"==typeof e&&/^[0-9]+$/.test(e)?parseInt(e,10):NaN}function l(e,t){var s,l;let d,c,u,{src:m,sizes:f,unoptimized:h=!1,priority:b=!1,loading:p,className:x,quality:g,width:v,height:j,fill:N=!1,style:I,overrideSrc:w,onLoad:y,onLoadingComplete:_,placeholder:P="empty",blurDataURL:A,fetchPriority:C,decoding:O="async",layout:E,objectFit:k,objectPosition:D,lazyBoundary:R,lazyRoot:S,...T}=e,{imgConf:M,showAltText:L,blurComplete:B,defaultLoader:z}=t,U=M||r.imageConfigDefault;if("allSizes"in U)d=U;else{let e=[...U.deviceSizes,...U.imageSizes].sort((e,t)=>e-t),t=U.deviceSizes.sort((e,t)=>e-t),i=null==(s=U.qualities)?void 0:s.sort((e,t)=>e-t);d={...U,allSizes:e,deviceSizes:t,qualities:i}}if(void 0===z)throw Object.defineProperty(Error("images.loaderFile detected but the file is missing default export.\nRead more: https://nextjs.org/docs/messages/invalid-images-config"),"__NEXT_ERROR_CODE",{value:"E163",enumerable:!1,configurable:!0});let q=T.loader||z;delete T.loader,delete T.srcSet;let F="__next_img_default"in q;if(F){if("custom"===d.loader)throw Object.defineProperty(Error('Image with src "'+m+'" is missing "loader" prop.\nRead more: https://nextjs.org/docs/messages/next-image-missing-loader'),"__NEXT_ERROR_CODE",{value:"E252",enumerable:!1,configurable:!0})}else{let e=q;q=t=>{let{config:s,...i}=t;return e(i)}}if(E){"fill"===E&&(N=!0);let e={intrinsic:{maxWidth:"100%",height:"auto"},responsive:{width:"100%",height:"auto"}}[E];e&&(I={...I,...e});let t={responsive:"100vw",fill:"100vw"}[E];t&&!f&&(f=t)}let X="",G=a(v),K=a(j);if((l=m)&&"object"==typeof l&&(o(l)||void 0!==l.src)){let e=o(m)?m.default:m;if(!e.src)throw Object.defineProperty(Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received "+JSON.stringify(e)),"__NEXT_ERROR_CODE",{value:"E460",enumerable:!1,configurable:!0});if(!e.height||!e.width)throw Object.defineProperty(Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received "+JSON.stringify(e)),"__NEXT_ERROR_CODE",{value:"E48",enumerable:!1,configurable:!0});if(c=e.blurWidth,u=e.blurHeight,A=A||e.blurDataURL,X=e.src,!N)if(G||K){if(G&&!K){let t=G/e.width;K=Math.round(e.height*t)}else if(!G&&K){let t=K/e.height;G=Math.round(e.width*t)}}else G=e.width,K=e.height}let J=!b&&("lazy"===p||void 0===p);(!(m="string"==typeof m?m:X)||m.startsWith("data:")||m.startsWith("blob:"))&&(h=!0,J=!1),d.unoptimized&&(h=!0),F&&!d.dangerouslyAllowSVG&&m.split("?",1)[0].endsWith(".svg")&&(h=!0);let H=a(g),$=Object.assign(N?{position:"absolute",height:"100%",width:"100%",left:0,top:0,right:0,bottom:0,objectFit:k,objectPosition:D}:{},L?{}:{color:"transparent"},I),Y=B||"empty"===P?null:"blur"===P?'url("data:image/svg+xml;charset=utf-8,'+(0,i.getImageBlurSvg)({widthInt:G,heightInt:K,blurWidth:c,blurHeight:u,blurDataURL:A||"",objectFit:$.objectFit})+'")':'url("'+P+'")',V=n.includes($.objectFit)?"fill"===$.objectFit?"100% 100%":"cover":$.objectFit,W=Y?{backgroundSize:V,backgroundPosition:$.objectPosition||"50% 50%",backgroundRepeat:"no-repeat",backgroundImage:Y}:{},Z=function(e){let{config:t,src:s,unoptimized:i,width:r,quality:n,sizes:o,loader:a}=e;if(i)return{src:s,srcSet:void 0,sizes:void 0};let{widths:l,kind:d}=function(e,t,s){let{deviceSizes:i,allSizes:r}=e;if(s){let e=/(^|\s)(1?\d?\d)vw/g,t=[];for(let i;i=e.exec(s);)t.push(parseInt(i[2]));if(t.length){let e=.01*Math.min(...t);return{widths:r.filter(t=>t>=i[0]*e),kind:"w"}}return{widths:r,kind:"w"}}return"number"!=typeof t?{widths:i,kind:"w"}:{widths:[...new Set([t,2*t].map(e=>r.find(t=>t>=e)||r[r.length-1]))],kind:"x"}}(t,r,o),c=l.length-1;return{sizes:o||"w"!==d?o:"100vw",srcSet:l.map((e,i)=>a({config:t,src:s,quality:n,width:e})+" "+("w"===d?e:i+1)+d).join(", "),src:a({config:t,src:s,quality:n,width:l[c]})}}({config:d,src:m,unoptimized:h,width:G,quality:H,sizes:f,loader:q});return{props:{...T,loading:J?"lazy":p,fetchPriority:C,width:G,height:K,decoding:O,className:x,style:{...$,...W},sizes:Z.sizes,srcSet:Z.srcSet,src:w||Z.src},meta:{unoptimized:h,priority:b,placeholder:P,fill:N}}}},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11997:e=>{"use strict";e.exports=require("punycode")},12571:(e,t,s)=>{Promise.resolve().then(s.bind(s,24733)),Promise.resolve().then(s.bind(s,60443)),Promise.resolve().then(s.bind(s,33386)),Promise.resolve().then(s.bind(s,93596)),Promise.resolve().then(s.bind(s,85850)),Promise.resolve().then(s.bind(s,93821)),Promise.resolve().then(s.bind(s,58758)),Promise.resolve().then(s.bind(s,41330)),Promise.resolve().then(s.bind(s,21313)),Promise.resolve().then(s.t.bind(s,85814,23)),Promise.resolve().then(s.t.bind(s,46533,23))},16698:e=>{"use strict";e.exports=require("node:async_hooks")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21122:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"warnOnce",{enumerable:!0,get:function(){return s}});let s=e=>{}},24733:(e,t,s)=>{"use strict";s.d(t,{default:()=>d});var i=s(60687),r=s(6475);let n=(0,r.createServerReference)("7fc9ccb32bd1e175b9630a99aa2f8bd9058dedb582",r.callServer,void 0,r.findSourceMapURL,"createDocument");var o=s(24934),a=s(30474),l=s(16189);let d=({userId:e,email:t})=>{let s=(0,l.useRouter)(),r=async()=>{try{let i=await n({userId:e,email:t});i&&s.push(`/documents/${i.id}`)}catch(e){}};return(0,i.jsxs)(o.$,{type:"submit",onClick:r,className:"gradient-blue flex gap-1 shadow-md",children:[(0,i.jsx)(a.default,{src:"/assets/icons/add.svg",alt:"add",width:24,height:24}),(0,i.jsx)("p",{className:"hidden sm:block",children:"Start a blank document"})]})}},27894:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var s in t)Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}(t,{VALID_LOADERS:function(){return s},imageConfigDefault:function(){return i}});let s=["default","imgix","cloudinary","akamai","custom"],i={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",loaderFile:"",domains:[],disableStaticImages:!1,minimumCacheTTL:60,formats:["image/webp"],dangerouslyAllowSVG:!1,contentSecurityPolicy:"script-src 'none'; frame-src 'none'; sandbox;",contentDispositionType:"attachment",localPatterns:void 0,remotePatterns:[],qualities:void 0,unoptimized:!1}},27910:e=>{"use strict";e.exports=require("stream")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},32091:(e,t)=>{"use strict";function s(e){var t;let{config:s,src:i,width:r,quality:n}=e,o=n||(null==(t=s.qualities)?void 0:t.reduce((e,t)=>Math.abs(t-75)<Math.abs(e-75)?t:e))||75;return s.path+"?url="+encodeURIComponent(i)+"&w="+r+"&q="+o+(i.startsWith("/_next/static/media/"),"")}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i}}),s.__next_img_default=!0;let i=s},33386:(e,t,s)=>{"use strict";s.d(t,{default:()=>W});var i=s(60687),r=s(43210),n=s(40599),o=s(96241);function a({...e}){return(0,i.jsx)(n.bL,{"data-slot":"popover",...e})}function l({...e}){return(0,i.jsx)(n.l9,{"data-slot":"popover-trigger",...e})}function d({className:e,align:t="center",sideOffset:s=4,...r}){return(0,i.jsx)(n.ZL,{children:(0,i.jsx)(n.UC,{"data-slot":"popover-content",align:t,sideOffset:s,className:(0,o.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e),...r})})}var c=s(42894),u=s(14059),m=s(89120);function f({enabled:e,onReachEnd:t}){let s=(0,r.useRef)(null);return(0,m.q)(s,e=>{e&&t()},{enabled:e}),(0,i.jsx)("div",{ref:s,style:{height:0}})}let h=(0,r.forwardRef)(({onReachEnd:e,children:t,className:s,...n},o)=>(0,i.jsxs)("ol",{className:(0,u.cn)("lb-root lb-inbox-notification-list",s),...n,ref:o,children:[r.Children.map(t,(e,t)=>(0,i.jsx)("li",{className:"lb-inbox-notification-list-item",children:e},t)),e&&(0,i.jsx)(f,{onReachEnd:e,enabled:r.Children.count(t)>0})]}));var b=s(82723),p=s(49269),x=s(8730),g=s(9989),v=s(79708),j=s(50082),N=s(49301),I=s(57623),w=s(3332),y=s(94524),_=s(84941),P=s(68104),A=s(92133),C=s(98305),O=s(8557),E=s(85494),k=s(58412);function D(e){return(0,i.jsxs)(k.In,{...e,children:[(0,i.jsx)("path",{d:"M4.5 12.91c-.58-.2-1-.76-1-1.41v-6c0-1.1.9-2 2-2h6c.65 0 1.2.42 1.41 1"}),(0,i.jsx)("rect",{x:7,y:7,width:9.5,height:9.5,rx:1.5})]})}function R({title:e,code:t,overrides:s}){let n=(0,_.Pv)(s),[o,a]=(0,r.useState)(!1),l=(0,r.useRef)(null);(0,r.useEffect)(()=>(o&&(l.current=setTimeout(()=>{a(!1)},1500)),()=>{l.current&&clearTimeout(l.current)}),[o]);let d=(0,r.useCallback)(()=>{try{navigator.clipboard.writeText(t),a(!0)}catch(e){console.error(e)}},[t]);return(0,i.jsx)(g.Bc,{children:(0,i.jsxs)("div",{className:"lb-code-block",children:[(0,i.jsxs)("div",{className:"lb-code-block-header",children:[(0,i.jsx)("span",{className:"lb-code-block-title",children:e}),(0,i.jsx)("div",{className:"lb-code-block-header-actions",children:(0,i.jsx)(E.m_,{content:o?null:n.COPY_TO_CLIPBOARD,children:(0,i.jsx)(O.$n,{className:"lb-code-block-header-action",icon:o?(0,i.jsx)(I.S,{}):(0,i.jsx)(D,{}),onClick:d,"aria-label":n.COPY_TO_CLIPBOARD})})})]}),(0,i.jsx)("pre",{className:"lb-code-block-content",children:(0,i.jsx)("code",{children:t})})]})})}var S=s(92384),T=s(15847),M=s(39522),L=s(99106);function B({comment:e,showHeader:t=!0,showAttachments:s=!0,showReactions:r=!0,overrides:n,className:o,...a}){let l=(0,_.Pv)(n);return(0,i.jsxs)("div",{className:(0,u.cn)("lb-root lb-inbox-notification-comment lb-comment",o),...a,children:[t&&(0,i.jsx)("div",{className:"lb-comment-header",children:(0,i.jsx)(L.K,{className:"lb-comment-author",userId:e.userId})}),(0,i.jsx)("div",{className:"lb-comment-content",children:e.body?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(T.nB,{className:"lb-comment-body",body:e.body,components:{Mention:M.ai,Link:M.X4}}),r&&e.reactions.length>0&&(0,i.jsx)("div",{className:"lb-comment-reactions",children:e.reactions.map(e=>(0,i.jsx)(M.kR,{reaction:e,overrides:n,disabled:!0},e.emoji))}),s&&e.attachments.length>0?(0,i.jsx)("div",{className:"lb-comment-attachments",children:(0,i.jsx)("div",{className:"lb-attachments",children:e.attachments.map(t=>(0,i.jsx)(M.oP,{attachment:t,overrides:n,roomId:e.roomId},t.id))})}):null]}):(0,i.jsx)("div",{className:"lb-comment-body",children:(0,i.jsx)("p",{className:"lb-comment-deleted",children:l.COMMENT_DELETED})})})]})}function z(e){return Array.from(new Set(e.map(e=>e.userId)))}var U=s(53833);function q({roomId:e,className:t,...s}){let{info:n,isLoading:o}=(0,p.xx)(e),a=(0,r.useMemo)(()=>n?.name??e,[n?.name,e]);return(0,i.jsx)("span",{className:(0,u.cn)("lb-name lb-room",t),"data-loading":o?"":void 0,...s,children:o?null:a})}var F=s(29398);let X=(0,r.forwardRef)(({inboxNotification:e,children:t,aside:s,title:n,date:o,unread:a,markAsReadOnClick:l,onClick:d,href:c,showActions:m,overrides:f,components:h,className:b,asChild:j,additionalDropdownItemsBefore:N,additionalDropdownItemsAfter:A,...C},k)=>{let D=(0,_.Pv)(f),{Anchor:R}=(0,v.kj)(h),T=j?x.DX:R,[M,L]=(0,r.useState)(!1),B=(0,p.AH)(),z=(0,p.Ec)(),U=(0,r.useCallback)(t=>{d?.(t);let s=l??!!c;a&&s&&B(e.id)},[c,e.id,l,B,d,a]),q=(0,r.useCallback)(e=>{e.stopPropagation()},[]),X=(0,r.useCallback)(e=>{e.preventDefault(),e.stopPropagation()},[]),G=(0,r.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),L(e=>!e)},[]),K=(0,r.useCallback)(()=>{B(e.id)},[e.id,B]),J=(0,r.useCallback)(()=>{z(e.id)},[e.id,z]);return(0,i.jsx)(g.Bc,{children:(0,i.jsxs)(T,{className:(0,u.cn)("lb-root lb-inbox-notification","hover"===m&&"lb-inbox-notification:show-actions-hover",M&&"lb-inbox-notification:action-open",b),dir:D.dir,"data-unread":a?"":void 0,"data-kind":e.kind,onClick:U,href:c,...C,ref:k,children:[s&&(0,i.jsx)("div",{className:"lb-inbox-notification-aside",children:s}),(0,i.jsxs)("div",{className:"lb-inbox-notification-content",children:[(0,i.jsxs)("div",{className:"lb-inbox-notification-header",children:[(0,i.jsx)("span",{className:"lb-inbox-notification-title",children:n}),(0,i.jsx)("div",{className:"lb-inbox-notification-details",children:(0,i.jsxs)("span",{className:"lb-inbox-notification-details-labels",children:[(0,i.jsx)(P.D,{locale:D.locale,date:o,className:"lb-date lb-inbox-notification-date"}),a&&(0,i.jsx)("span",{className:"lb-inbox-notification-unread-indicator",role:"presentation"})]})}),m&&(0,i.jsx)("div",{className:"lb-inbox-notification-actions",children:(0,i.jsx)(S.ms,{open:M,onOpenChange:L,align:"end",content:(0,i.jsxs)(i.Fragment,{children:[N,a?(0,i.jsx)(S.tJ,{onSelect:K,onClick:q,icon:(0,i.jsx)(I.S,{}),children:D.INBOX_NOTIFICATION_MARK_AS_READ}):null,(0,i.jsx)(S.tJ,{onSelect:J,onClick:q,icon:(0,i.jsx)(w.d,{}),children:D.INBOX_NOTIFICATION_DELETE}),A]}),children:(0,i.jsx)(E.m_,{content:D.INBOX_NOTIFICATION_MORE,children:(0,i.jsx)(F.ty,{asChild:!0,children:(0,i.jsx)(O.$n,{className:"lb-inbox-notification-action",onClick:G,onPointerDown:X,onPointerUp:X,"aria-label":D.INBOX_NOTIFICATION_MORE,icon:(0,i.jsx)(y.z,{})})})})})})]}),(0,i.jsx)("div",{className:"lb-inbox-notification-body",children:t})]})]})})});function G({className:e,...t}){return(0,i.jsx)(C.e,{className:(0,u.cn)("lb-inbox-notification-avatar",e),...t})}let K=(0,r.forwardRef)(({inboxNotification:e,href:t,showRoomName:s=!0,showReactions:n=!0,showAttachments:o=!0,showActions:a="hover",overrides:l,...d},c)=>{let u=(0,_.Pv)(l),m=(0,p.eg)(e.id),{status:f,subscribe:h,unsubscribe:x}=(0,p.mp)(m.roomId,m.id),g=(0,A.T)(),{info:v}=(0,p.xx)(e.roomId),I=(0,r.useMemo)(()=>{let t=function(e,t,s){let i=t.comments.filter(t=>!!t.body&&(e.readAt?t.createdAt>e.readAt&&t.createdAt<=e.notifiedAt:t.createdAt<=e.notifiedAt));if(0===i.length){let s=t.comments.filter(e=>e.body).slice(-3);return{type:"comments",unread:!1,comments:s,userIds:z(s),date:e.notifiedAt}}let r=function(e,t){if(e.length)for(let s=e.length-1;s>=0;s--){let i=e[s];if(i.userId!==t&&i.body&&(0,b.Je)(i.body,e=>"user"===e.kind&&e.id===t).length>0)return i}}(i,s);return r?{type:"mention",unread:!0,comments:[r],userIds:[r.userId],date:r.createdAt}:{type:"comments",unread:!0,comments:i.slice(-3),userIds:z(i),date:e.notifiedAt}}(e,m,g??"");if(0===t.comments.length||0===t.userIds.length)return null;switch(t.type){case"comments":{let e=[...t.userIds].reverse(),r=e[0],a=(0,i.jsx)(G,{userId:r}),d=u.INBOX_NOTIFICATION_THREAD_COMMENTS_LIST((0,i.jsx)(U.B,{values:e.map(e=>(0,i.jsx)(L.K,{userId:e,replaceSelf:!0},e)),formatRemaining:u.LIST_REMAINING_USERS,truncate:2,locale:u.locale}),s?(0,i.jsx)(q,{roomId:m.roomId}):void 0,e.length),c=(0,i.jsx)("div",{className:"lb-inbox-notification-comments",children:t.comments.map(e=>(0,i.jsx)(B,{comment:e,showHeader:t.comments.length>1,showAttachments:o,showReactions:n,overrides:l},e.id))});return{unread:t.unread,date:t.date,aside:a,title:d,content:c,threadId:m.id,commentId:t.comments[t.comments.length-1].id}}case"mention":{let e=t.userIds[0],r=t.comments[0],a=(0,i.jsx)(G,{userId:e}),d=u.INBOX_NOTIFICATION_THREAD_MENTION((0,i.jsx)(L.K,{userId:e},e),s?(0,i.jsx)(q,{roomId:m.roomId}):void 0),c=(0,i.jsx)("div",{className:"lb-inbox-notification-comments",children:(0,i.jsx)(B,{comment:r,showHeader:!1,showAttachments:o,showReactions:n,overrides:l},r.id)});return{unread:t.unread,date:t.date,aside:a,title:d,content:c,threadId:m.id,commentId:r.id}}default:return(0,b.xb)(t,"Unexpected thread inbox notification type")}},[u,g,e,l,s,o,n,m]),w=(0,r.useMemo)(()=>{let e=t??v?.url;return e?(0,b.Jv)(e,void 0,I?.commentId):void 0},[I?.commentId,t,v?.url]),y=(0,r.useCallback)(()=>{"subscribed"===f?x():h()},[f,h,x]),P=(0,r.useCallback)(e=>{e.stopPropagation()},[]);if(!I)return null;let{aside:C,title:O,content:E,date:k,unread:D}=I;return(0,i.jsx)(X,{inboxNotification:e,aside:C,title:O,date:k,unread:D,overrides:l,href:w,showActions:a,markAsReadOnClick:!1,additionalDropdownItemsBefore:(0,i.jsx)(S.tJ,{onSelect:y,onClick:P,icon:"subscribed"===f?(0,i.jsx)(N.w,{}):(0,i.jsx)(j.X,{}),children:"subscribed"===f?u.THREAD_UNSUBSCRIBE:u.THREAD_SUBSCRIBE}),...d,ref:c,children:E})}),J=(0,r.forwardRef)(({inboxNotification:e,showActions:t="hover",showRoomName:s=!0,href:n,overrides:o,...a},l)=>{let d=(0,_.Pv)(o),{info:c}=(0,p.xx)(e.roomId),u=(0,r.useMemo)(()=>{let e=n??c?.url;return e?(0,b.Jf)(e)??void 0:void 0},[n,c?.url]),m=(0,r.useMemo)(()=>!e.readAt||e.notifiedAt>e.readAt,[e.notifiedAt,e.readAt]);return(0,i.jsx)(X,{inboxNotification:e,aside:(0,i.jsx)(G,{userId:e.createdBy}),title:d.INBOX_NOTIFICATION_TEXT_MENTION((0,i.jsx)(L.K,{userId:e.createdBy},e.createdBy),s?(0,i.jsx)(q,{roomId:e.roomId}):void 0),date:e.notifiedAt,unread:m,overrides:o,showActions:t,href:u,...a,ref:l})}),H=(0,r.forwardRef)(({inboxNotification:e,showActions:t="hover",title:s,aside:n,children:o,overrides:a,...l},d)=>{let c=(0,r.useMemo)(()=>!e.readAt||e.notifiedAt>e.readAt,[e.notifiedAt,e.readAt]);return(0,i.jsx)(X,{inboxNotification:e,aside:n,title:s,date:e.notifiedAt,unread:c,overrides:a,showActions:t,...l,ref:d,children:o})}),$=(0,r.forwardRef)(({inboxNotification:e,showActions:t="hover",overrides:s,...n},o)=>{let a=(0,r.useMemo)(()=>!e.readAt||e.notifiedAt>e.readAt,[e.notifiedAt,e.readAt]);return(0,i.jsx)(X,{inboxNotification:e,title:(0,i.jsx)("code",{children:e.id}),date:e.notifiedAt,unread:a,overrides:s,showActions:t,...n,ref:o,"data-inspector":"",children:(0,i.jsx)(R,{title:"Data",code:JSON.stringify(e,null,2)})})}),Y=Object.assign((0,r.forwardRef)(({inboxNotification:e,kinds:t,...s},r)=>{switch(e.kind){case"thread":{let n=t?.thread??K;return(0,i.jsx)(n,{inboxNotification:e,...s,ref:r})}case"textMention":{let n=t?.textMention??J;return(0,i.jsx)(n,{inboxNotification:e,...s,ref:r})}default:{let n=t?.[e.kind];if(!n)return null;return(0,i.jsx)(n,{inboxNotification:e,...s,ref:r})}}}),{Thread:K,TextMention:J,Custom:H,Inspector:$,Icon:function({className:e,...t}){return(0,i.jsx)("div",{className:(0,u.cn)("lb-inbox-notification-icon",e),...t})},Avatar:G});var V=s(30474);let W=()=>{let{inboxNotifications:e}=(0,p.AZ)(),{count:t}=(0,p.aV)(),s=e.filter(e=>!e.readAt);return(0,i.jsxs)(a,{children:[(0,i.jsxs)(l,{className:"relative flex size-10 items-center justify-center rounded-lg",children:[(0,i.jsx)(V.default,{src:"/assets/icons/bell.svg",alt:"inbox",width:24,height:24}),t>0&&(0,i.jsx)("div",{className:"absolute right-2 top-2 z-20 size-2 rounded-full bg-blue-500"})]}),(0,i.jsx)(d,{align:"end",className:"shad-popover bg-black",children:(0,i.jsx)(c.v,{overrides:{INBOX_NOTIFICATION_TEXT_MENTION:e=>(0,i.jsxs)(i.Fragment,{children:[e," mentioned you."]})},children:(0,i.jsxs)(h,{children:[s.length<=0&&(0,i.jsx)("p",{className:"py-2 text-center text-dark-500",children:"No new notifications"}),s.length>0&&s.map(e=>(0,i.jsx)(Y,{inboxNotification:e,className:"bg-dark-200 text-white",href:`/documents/${e.roomId}`,showActions:!1,kinds:{thread:e=>(0,i.jsx)(Y.Thread,{...e,showActions:!1,showRoomName:!1}),textMention:e=>(0,i.jsx)(Y.TextMention,{...e,showRoomName:!1}),$documentAccess:e=>(0,i.jsx)(Y.Custom,{...e,title:e.inboxNotification.activities[0].data.title,aside:(0,i.jsx)(Y.Icon,{className:"bg-transparent",children:(0,i.jsx)(V.default,{src:e.inboxNotification.activities[0].data.avatar||"",width:36,height:36,alt:"avatar",className:"rounded-full"})}),children:e.children})}},e.id))]})})})]})}},33873:e=>{"use strict";e.exports=require("path")},40473:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>g});var i=s(37413),r=s(46419),n=s(96761),o=s(66819),a=s(70099),l=s.n(a),d=s(4536),c=s.n(d);let u=({children:e,className:t})=>(0,i.jsxs)("div",{className:(0,o.cn)("header",t),children:[(0,i.jsxs)(c(),{href:"/",className:"md:flex-1",children:[(0,i.jsx)(l(),{src:"/assets/icons/logo.svg",alt:"Logo with name",width:120,height:32,className:"hidden md:block"}),(0,i.jsx)(l(),{src:"/assets/icons/logo-icon.svg",alt:"Logo",width:32,height:32,className:"mr-2 md:hidden"})]}),e]});var m=s(59473),f=s(18398),h=s(81228),b=s(62278),p=s(40847),x=s(39916);let g=async()=>{let e=await (0,p.N)();e||(0,x.redirect)("/sign-in");let t=await (0,f.HK)(e.emailAddresses[0].emailAddress);return(0,i.jsxs)("main",{className:"home-container",children:[(0,i.jsx)(u,{className:"sticky left-0 top-0",children:(0,i.jsxs)("div",{className:"flex items-center gap-2 lg:gap-4",children:[(0,i.jsx)(m.default,{}),(0,i.jsx)(h.iB,{children:(0,i.jsx)(b.UserButton,{})})]})}),t.data.length>0?(0,i.jsxs)("div",{className:"document-list-container",children:[(0,i.jsxs)("div",{className:"document-list-title",children:[(0,i.jsx)("h3",{className:"text-28-semibold",children:"All documents"}),(0,i.jsx)(r.default,{userId:e.id,email:e.emailAddresses[0].emailAddress})]}),(0,i.jsx)("ul",{className:"document-ul",children:t.data.map(({id:e,metadata:t,createdAt:s})=>(0,i.jsxs)("li",{className:"document-list-item",children:[(0,i.jsxs)(c(),{href:`/documents/${e}`,className:"flex flex-1 items-center gap-4",children:[(0,i.jsx)("div",{className:"hidden rounded-md bg-dark-500 p-2 sm:block",children:(0,i.jsx)(l(),{src:"/assets/icons/doc.svg",alt:"file",width:40,height:40})}),(0,i.jsxs)("div",{className:"space-y-1",children:[(0,i.jsx)("p",{className:"line-clamp-1 text-lg",children:t.title}),(0,i.jsxs)("p",{className:"text-sm font-light text-blue-100",children:["Created about ",(0,o.JD)(s)]})]})]}),(0,i.jsx)(n.DeleteModal,{roomId:e})]},e))})]}):(0,i.jsxs)("div",{className:"document-list-empty",children:[(0,i.jsx)(l(),{src:"/assets/icons/doc.svg",alt:"Document",width:40,height:40,className:"mx-auto"}),(0,i.jsx)(r.default,{userId:e.id,email:e.emailAddresses[0].emailAddress})]})]})}},46419:(e,t,s)=>{"use strict";s.d(t,{default:()=>i});let i=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/bhaskarg/Documents/Projects/LiveDocs/google-sheets-clone/components/AddDocumentBtn.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/bhaskarg/Documents/Projects/LiveDocs/google-sheets-clone/components/AddDocumentBtn.tsx","default")},49603:(e,t,s)=>{let{createProxy:i}=s(39844);e.exports=i("/Users/bhaskarg/Documents/Projects/LiveDocs/google-sheets-clone/node_modules/next/dist/client/image-component.js")},55591:e=>{"use strict";e.exports=require("https")},58703:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.default,__next_app__:()=>c,pages:()=>d,routeModule:()=>u,tree:()=>l});var i=s(65239),r=s(48088),n=s(46076),o=s(30893),a={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(a[e]=()=>o[e]);s.d(t,a);let l={children:["",{children:["(root)",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,40473)),"/Users/bhaskarg/Documents/Projects/LiveDocs/google-sheets-clone/app/(root)/page.tsx"]}]},{"not-found":[()=>Promise.resolve().then(s.t.bind(s,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,58014)),"/Users/bhaskarg/Documents/Projects/LiveDocs/google-sheets-clone/app/layout.tsx"],"global-error":[()=>Promise.resolve().then(s.bind(s,46076)),"/Users/bhaskarg/Documents/Projects/LiveDocs/google-sheets-clone/app/global-error.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,d=["/Users/bhaskarg/Documents/Projects/LiveDocs/google-sheets-clone/app/(root)/page.tsx"],c={require:s,loadChunk:()=>Promise.resolve()},u=new i.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/(root)/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},59208:(e,t,s)=>{"use strict";s.r(t),s.d(t,{"7f26295de556bdc84a46140871380e2da8b27cd5ca":()=>u,"7f264293cb5004db82e11d533e42b69681ec442500":()=>i.y,"7f9d304d15482ac489083ba521afe1484a770b9301":()=>c});var i=s(38301),r=s(91199);s(42087);var n=s(25881);let o=e=>JSON.parse(JSON.stringify(e)),a=new(s(75993)).B({secret:process.env.LIVEBLOCKS_SECRET_KEY});var l=s(33331);let d=(0,n.z)({secretKey:process.env.CLERK_SECRET_KEY}),c=async({userIds:e})=>{try{let{data:t}=await d.users.getUserList({emailAddress:e}),s=t.map(e=>({id:e.id,name:`${e.firstName} ${e.lastName}`,email:e.emailAddresses[0].emailAddress,avatar:e.imageUrl})),i=e.map(e=>s.find(t=>t.email===e));return o(i)}catch(e){}},u=async({roomId:e,currentUser:t,text:s})=>{try{let i=await a.getRoom(e),r=Object.keys(i.usersAccesses).filter(e=>e!==t);if(s.length){let e=s.toLowerCase(),t=r.filter(t=>t.toLowerCase().includes(e));return o(t)}return o(r)}catch(e){}};(0,l.D)([c,u]),(0,r.A)(c,"7f9d304d15482ac489083ba521afe1484a770b9301",null),(0,r.A)(u,"7f26295de556bdc84a46140871380e2da8b27cd5ca",null)},59473:(e,t,s)=>{"use strict";s.d(t,{default:()=>i});let i=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/bhaskarg/Documents/Projects/LiveDocs/google-sheets-clone/components/Notifications.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/bhaskarg/Documents/Projects/LiveDocs/google-sheets-clone/components/Notifications.tsx","default")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},70099:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var s in t)Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}(t,{default:function(){return l},getImageProps:function(){return a}});let i=s(72639),r=s(9131),n=s(49603),o=i._(s(32091));function a(e){let{props:t}=(0,r.getImgProps)(e,{defaultLoader:o.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,s]of Object.entries(t))void 0===s&&delete t[e];return{props:t}}let l=n.Image},73024:e=>{"use strict";e.exports=require("node:fs")},74075:e=>{"use strict";e.exports=require("zlib")},76760:e=>{"use strict";e.exports=require("node:path")},77598:e=>{"use strict";e.exports=require("node:crypto")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},95960:(e,t,s)=>{"use strict";s.r(t),s.d(t,{"7f0192c259abb3eb449cf4c1aec0699e8cb167715e":()=>i.ot,"7f154f2f9d537a74661ac1aa4bfa2f4df16a871ee1":()=>r.dv,"7f358d36e8747368e23554eea8f5a3a1a777022624":()=>r.YE,"7f8a223d93f0a8b6822911a8cf71287b123a2dfa2d":()=>r.lU,"7fc2de60768b96403e85b52a20f800b8879bdb82aa":()=>i.ai,"7fc9ccb32bd1e175b9630a99aa2f8bd9058dedb582":()=>r.ui,"7fd5390e7c7f3da9fe7c87fb2c3a25ff154136ff8a":()=>r.Nn,"7fd88899f64beb358d6d0bdd7aea355091f06302c6":()=>r.HK,"7fe6650757c6640eec35a4afd9b406f5658a53bd46":()=>r.zj,"7feeef9b09070451effa6411eb9134c7b2c633c1c7":()=>i.at});var i=s(98749),r=s(18398)},96761:(e,t,s)=>{"use strict";s.d(t,{DeleteModal:()=>i});let i=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call DeleteModal() from the server but DeleteModal is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/bhaskarg/Documents/Projects/LiveDocs/google-sheets-clone/components/DeleteModal.tsx","DeleteModal")},98499:(e,t,s)=>{Promise.resolve().then(s.bind(s,46419)),Promise.resolve().then(s.bind(s,96761)),Promise.resolve().then(s.bind(s,59473)),Promise.resolve().then(s.bind(s,63441)),Promise.resolve().then(s.bind(s,62808)),Promise.resolve().then(s.bind(s,7791)),Promise.resolve().then(s.bind(s,12918)),Promise.resolve().then(s.bind(s,13920)),Promise.resolve().then(s.bind(s,62278)),Promise.resolve().then(s.t.bind(s,4536,23)),Promise.resolve().then(s.t.bind(s,49603,23))}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),i=t.X(0,[80,391,999,726,721,658,740,385,21],()=>s(58703));module.exports=i})();